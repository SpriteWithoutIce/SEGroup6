{"ast":null,"code":"import PrescriptionDetails from \"./PrescriptionDetails.vue\";\nexport default {\n  data() {\n    return {\n      desc: \"问诊列表统计\",\n      //注意，函数里有日期比较逻辑，所以务必注意后端的日期数据格式！！！\n      // 把stus设置成数据库读取的内容就好\n      patient: [{\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小王\",\n        age: 18,\n        sex: \"男\",\n        date: \"2024年4月27日\"\n      }, {\n        name: \"小张\",\n        age: 17,\n        sex: \"男\",\n        date: \"2024年2月15日\"\n      }, {\n        name: \"小秋\",\n        age: 16,\n        sex: \"女\",\n        date: \"2024年1月15日\"\n      }],\n      pagination: {\n        total: 0,\n        currentPage: 1,\n        pageSize: 10,\n        pageCount: 0\n      },\n      //这里设置数据初始化\n      filteredPatients: []\n    };\n  },\n  components: {\n    PrescriptionDetails\n  },\n  methods: {\n    showPrescriptionDetails(row) {\n      this.$refs.prescriptionDetails.openModal(row);\n    },\n    handleCurrentChange(e) {\n      this.pagination.currentPage = e;\n      const start = (this.pagination.currentPage - 1) * 10;\n      const end = start + 10;\n      this.filteredPatients = this.patient.slice(start, end);\n    }\n  },\n  mounted() {\n    //分页初始化\n    this.pagination.total = this.patient.length;\n    this.handleCurrentChange(1);\n    this.pagination.pageCount = this.pagination.total / 10 + 1;\n    console.log(\"Patient data loaded:\", this.patient);\n    // 等待 DOM 更新后再执行筛选逻辑\n    //唉我真吐了，1记得加上单引号\n    this.$nextTick(() => {\n      this.selectFunc(\"1\");\n      console.log(\"here\");\n      console.log(\"Filtered patients after DOM update:\", this.filteredPatients);\n    });\n  }\n};","map":{"version":3,"names":["PrescriptionDetails","data","desc","patient","name","age","sex","date","pagination","total","currentPage","pageSize","pageCount","filteredPatients","components","methods","showPrescriptionDetails","row","$refs","prescriptionDetails","openModal","handleCurrentChange","e","start","end","slice","mounted","length","console","log","$nextTick","selectFunc"],"sources":["D:\\vue_00\\SEGroup6\\猫猫就诊\\Project\\frontend\\src\\components\\Prescription\\MakePrescription.vue"],"sourcesContent":["<template>\r\n  <!-- 注意调用的位置 -->\r\n  <PrescriptionDetails ref=\"prescriptionDetails\"> </PrescriptionDetails>\r\n  <!-- 设置标题 -->\r\n  <el-container style=\"height: 100vh\" class=\"form-container\">\r\n    <el-container>\r\n      <el-container>\r\n        <!-- 在这里插入了一个空标题，让表格内容和菜单内容间距看起来舒服点 -->\r\n        <el-header height=\"30px\" style=\"padding: 0; margin: 0\"> </el-header>\r\n        <el-main class=\"main\">\r\n          <div>\r\n            <el-table :data=\"patient\">\r\n              <!-- 可以加上一个问诊号 -->\r\n              <el-table-column prop=\"name\" label=\"姓名\"> </el-table-column>\r\n              <el-table-column prop=\"age\" label=\"年龄\"> </el-table-column>\r\n              <el-table-column prop=\"sex\" label=\"性别\"> </el-table-column>\r\n              <el-table-column\r\n                prop=\"date\"\r\n                style=\"background-color: black\"\r\n                label=\"问诊时间\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column style=\"text-align: right\" label=\"操作\">\r\n                <template #default=\"scope\">\r\n                  <el-button\r\n                    class=\"prescribe-button\"\r\n                    @click=\"showPrescriptionDetails(scope.row)\"\r\n                    >开具处方</el-button\r\n                  >\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <!-- 分页组件 -->\r\n            <el-pagination\r\n              :pager-count=\"10\"\r\n              class=\"page\"\r\n              :current-page=\"pagination.currentPage\"\r\n              :page-size=\"pagination.pageSize\"\r\n              :total=\"pagination.total\"\r\n              layout=\"prev, pager, next ,total\"\r\n              @current-change=\"handleCurrentChange\"\r\n            />\r\n          </div>\r\n        </el-main>\r\n\r\n        <el-footer height=\"30px\" align=\"center\" class=\"footer\"\r\n          >SE_GROUP_6</el-footer\r\n        >\r\n      </el-container>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport PrescriptionDetails from \"./PrescriptionDetails.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      desc: \"问诊列表统计\",\r\n      //注意，函数里有日期比较逻辑，所以务必注意后端的日期数据格式！！！\r\n      // 把stus设置成数据库读取的内容就好\r\n      patient: [\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小王\",\r\n          age: 18,\r\n          sex: \"男\",\r\n          date: \"2024年4月27日\",\r\n        },\r\n        {\r\n          name: \"小张\",\r\n          age: 17,\r\n          sex: \"男\",\r\n          date: \"2024年2月15日\",\r\n        },\r\n        {\r\n          name: \"小秋\",\r\n          age: 16,\r\n          sex: \"女\",\r\n          date: \"2024年1月15日\",\r\n        },\r\n      ],\r\n      pagination: {\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        pageCount: 0,\r\n      },\r\n      //这里设置数据初始化\r\n      filteredPatients: [],\r\n    };\r\n  },\r\n  components: {\r\n    PrescriptionDetails,\r\n  },\r\n  methods: {\r\n    showPrescriptionDetails(row) {\r\n      this.$refs.prescriptionDetails.openModal(row);\r\n    },\r\n    handleCurrentChange(e) {\r\n      this.pagination.currentPage = e;\r\n      const start = (this.pagination.currentPage - 1) * 10;\r\n      const end = start + 10;\r\n      this.filteredPatients = this.patient.slice(start, end);\r\n    },\r\n  },\r\n  mounted() {\r\n    //分页初始化\r\n    this.pagination.total = this.patient.length;\r\n    this.handleCurrentChange(1);\r\n    this.pagination.pageCount = this.pagination.total / 10 + 1;\r\n    console.log(\"Patient data loaded:\", this.patient);\r\n    // 等待 DOM 更新后再执行筛选逻辑\r\n    //唉我真吐了，1记得加上单引号\r\n    this.$nextTick(() => {\r\n      this.selectFunc(\"1\");\r\n      console.log(\"here\");\r\n      console.log(\"Filtered patients after DOM update:\", this.filteredPatients);\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  bottom: 5%;\r\n}\r\n.form-container {\r\n  position: absolute;\r\n  top: 600px;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n}\r\n.header {\r\n  font-size: 30px;\r\n  line-height: 80px;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n/*菜单栏*/\r\n.aside {\r\n  background-color: wheat;\r\n}\r\n\r\n.my-menu .el-menu-item.is-active {\r\n  color: black;\r\n  background-color: cornflowerblue;\r\n  opacity: 0.5;\r\n}\r\n\r\n/*标题的下划线*/\r\n.subHeader {\r\n  /*background-color: cornflowerblue*/\r\n  background-color: black;\r\n}\r\n\r\n/*问诊列表*/\r\n.main {\r\n  background-color: white;\r\n  background-image: url(../../assets/prescription/prescription_bg.png);\r\n}\r\n\r\n.prescribe-button {\r\n  background-color: whitesmoke;\r\n  margin-left: -10px;\r\n  max-width: 75px;\r\n}\r\n\r\n/*页尾*/\r\n.footer {\r\n  background-color: rgb(8, 3, 88);\r\n  color: white;\r\n  font-size: 17px;\r\n  line-height: 30px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}