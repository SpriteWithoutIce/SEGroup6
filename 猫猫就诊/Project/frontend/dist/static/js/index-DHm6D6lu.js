import{ai as r,o as u,c as _,a as e,V as o,P as l,T as v,S as w,U as m,i as oe,aw as M,ax as q,ay as te,O as P,F as x,a8 as T,e as B,k as W,j as ne,f as me,d as xe,Q as R,af as pe,J as I,a3 as ue,al as O,az as ee,Z as $e,at as we}from"./@vue-BmH4dvKI.js";import{C as _e}from"./crypto-js-Ci0zXM0r.js";import{R as Ce,a as Se,c as De,b as Te}from"./vue-router-CGjTgPtb.js";import{E as j,i as Me}from"./element-plus-DkWpydBp.js";import{a as he}from"./axios-G5LVpFxl.js";import{Q as qe}from"./@element-plus-BZs8tJsE.js";import"./lodash-es-WEemOz_S.js";import"./@vueuse-nP03j2kH.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DaDYfFNR.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-CtcGg-6p.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))p(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&p(f)}).observe(document,{childList:!0,subtree:!0});function d(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function p(n){if(n.ep)return;n.ep=!0;const i=d(n);fetch(n.href,i)}})();const Ae="/static/jpg/banner2-k7fdBEjn.jpg",C=(t,s)=>{const d=t.__vccOpts||t;for(const[p,n]of s)d[p]=n;return d},Ve={data(){return{receivedidCard:"",receivedtype:"",loginVisible:!1,isLogin:"",notLogin:"",loginForm:{idCard:"",password:"",userType:"",remember:!1,autoLogin:!1},msg:"",rules:{idCard:[{required:!0,message:"请输入账号",trigger:"blur"},{pattern:/^\d{6,20}$/,message:"账号必须为6~20位数字",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted(){},methods:{getUserData(t,s,d){return new Promise((p,n)=>{let i=this,f={idCard:t,password:_e.SHA256(s).toString(),userType:d};this.$axios.post("api/login",f).then(function(c){i.msg=c.data.msg,console.log(i.msg),p()}).catch(function(c){console.log(c),n(c)})})},openModal(t,s){this.receivedidCard=t,this.receivedtype=s,t!=""?(this.isLogin=!1,this.notLogin=!0):(this.isLogin=!0,this.notLogin=!1),this.loginForm.idCard="",this.loginForm.password="",this.loginVisible=!0,document.body.style.overflow="hidden"},closeModal(){this.loginVisible=!1,document.body.style.overflow=""},cancelModal(){j({type:"info",message:"取消 ╮(╯▽╰)╭",showClose:!0}),this.closeModal()},handleLogin(){this.$refs.loginForm.validate(t=>{if(t){const{idCard:s,password:d,userType:p}=this.loginForm;this.getUserData(s,d,p).then(()=>{if(this.msg==="Successfully Login"){j({showClose:!0,message:"登录成功 (๑˃̵ᴗ˂̵)",type:"success"});const n=oe();n.appContext.config.globalProperties.$identity_num=s,this.$emit("update:currentUserCard",this.loginForm.idCard),this.$emit("update:currentUserType",this.loginForm.userType),this.closeModal()}else if(this.msg==="Wrong Password")j({showClose:!0,message:"密码错误或用户类型错误 ╮(╯▽╰)╭",type:"error"});else{j({showClose:!0,message:"注册成功并已登录 (๑˃̵ᴗ˂̵)",type:"success"});const n=oe();n.appContext.config.globalProperties.$identity_num=s,this.$emit("update:currentUserCard",this.loginForm.idCard),this.$emit("update:currentUserType",this.loginForm.userType),this.closeModal()}})}else j({type:"info",message:"信息错误 ╮(╯▽╰)╭",showClose:!0})})},logout(){this.receivedidCard="",this.currentUserType="",this.$emit("update:currentUserCard",this.loginForm.idCard),this.$emit("update:currentUserType",this.loginForm.userType),this.isLogin=!1,this.notLogin=!0,this.closeModal(),j({type:"success",message:"已退出登录 (๑˃̵ᴗ˂̵)",showClose:!0});const t=oe();t.appContext.config.globalProperties.$identity_num=""}}},ie=t=>(M("data-v-8945267e"),t=t(),q(),t),Ie={key:0,class:"modal-background"},Pe={class:"modal-container"},Be={class:"top-section"},Ue=ie(()=>e("img",{src:Ae,alt:"背景图片",class:"background-image"},null,-1)),Re=ie(()=>e("div",{class:"cancel-icon"},"X",-1)),Le=[Re],Fe=ie(()=>e("div",{class:"mid-section"},null,-1)),je={key:0,class:"bottom-section"},Ne={class:"button-group"},He={key:1,class:"bottom-section"},ze={class:"user-info"},Ee=ie(()=>e("title",null,"当前用户信息",-1)),Oe={class:"button-group"};function Ye(t,s,d,p,n,i){const f=r("el-input"),c=r("el-form-item"),a=r("el-option"),h=r("el-select"),b=r("el-form"),k=r("el-button");return n.loginVisible?(u(),_("div",Ie,[e("div",Pe,[e("div",Be,[Ue,e("div",{class:"cancel-btn",onClick:s[0]||(s[0]=(...y)=>i.cancelModal&&i.cancelModal(...y))},Le)]),Fe,n.isLogin?(u(),_("div",je,[o(b,{model:n.loginForm,rules:n.rules,ref:"loginForm",class:"form","label-width":"auto"},{default:l(()=>[o(c,{label:"身份证号",prop:"idCard",class:"input-item"},{default:l(()=>[o(f,{modelValue:n.loginForm.idCard,"onUpdate:modelValue":s[1]||(s[1]=y=>n.loginForm.idCard=y)},null,8,["modelValue"])]),_:1}),o(c,{label:"密码",prop:"password",class:"input-item"},{default:l(()=>[o(f,{modelValue:n.loginForm.password,"onUpdate:modelValue":s[2]||(s[2]=y=>n.loginForm.password=y),type:"password"},null,8,["modelValue"])]),_:1}),o(c,{label:"身份",prop:"idCard",class:"input-item3"},{default:l(()=>[o(h,{modelValue:n.loginForm.userType,"onUpdate:modelValue":s[3]||(s[3]=y=>n.loginForm.userType=y),placeholder:"身份选择",class:"input-item3"},{default:l(()=>[o(a,{label:"医生",value:"医生"}),o(a,{label:"普通用户",value:"普通用户"}),o(a,{label:"管理员",value:"管理员"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),e("div",Ne,[o(k,{type:"primary",onClick:i.handleLogin,class:"input-item2"},{default:l(()=>[v("登录")]),_:1},8,["onClick"])])])):w("",!0),n.notLogin?(u(),_("div",He,[e("div",ze,[Ee,e("p",null,"身份证号："+m(n.receivedidCard),1),e("p",null,"用户类型："+m(n.receivedtype),1)]),e("div",Oe,[o(k,{type:"danger",onClick:i.logout,class:"input-item2"},{default:l(()=>[v("退出登录")]),_:1},8,["onClick"])])])):w("",!0)])])):w("",!0)}const Ge=C(Ve,[["render",Ye],["__scopeId","data-v-8945267e"]]),Je={data(){return{isVisible:!1}},methods:{openModal(t){this.isVisible=!0,document.body.style.overflow="hidden",this.form.office=t.office,this.form.time=t.time,this.form.medicine=t.medicine},closeModal(){this.isVisible=!1,document.body.style.overflow=""}}},Ke={key:0,class:"modal-background"},Ze={class:"modal-container"},We=te('<div class="content" data-v-627dde4b><h1 data-v-627dde4b>系统介绍</h1><h3 data-v-627dde4b>一.预约挂号</h3><div class="line" data-v-627dde4b><p style="margin-left:15px;" data-v-627dde4b> 本系统提供医生的查询，方便用户看本诊所总共有哪些医生。用户能够在挂号页面选择想要的科室、医生和时间段进行挂号预约，每天凌晨00:00放号，可以进行复诊操作。 </p></div><h3 data-v-627dde4b>二.处方开具</h3><div class="line" data-v-627dde4b><p style="margin-left:15px;" data-v-627dde4b> 医生可以根据患者的症状开具对应的处方。开具处方的时候医生要能够根据症状或者名字查询药物。同时每个药物应该有价格，医生开具处方后要能自动结算价格。 </p></div><h3 data-v-627dde4b>三.历史记录查询</h3><div class="line" data-v-627dde4b><p style="margin-left:15px;" data-v-627dde4b> 患者能查询自己的挂号和问诊记录，得到挂号信息和处方单子。医生能够查询自己名下挂号的患者，和自己开具的单子。 </p></div><h3 data-v-627dde4b>四.药物登记&amp;医生登记</h3><div class="line" data-v-627dde4b><p style="margin-left:15px;" data-v-627dde4b> 药剂师可以把药物和医生录入到后端系统，药物信息包含：名字，种类，适应症状和价格等等。 </p></div><h3 data-v-627dde4b>五.通知系统</h3><div class="line" data-v-627dde4b><p style="margin-left:15px;" data-v-627dde4b> 患者能够收到一些特定的通知，如预约成功，预约被取消了，一定时间内没缴费会发缴费等通知。 </p></div><h3 data-v-627dde4b>六.缴费系统</h3><div class="line" data-v-627dde4b><p style="margin-left:15px;" data-v-627dde4b>患者能够通过该系统缴纳医疗费用。</p></div></div>',1),Qe={class:"button"};function Xe(t,s,d,p,n,i){const f=r("el-button");return n.isVisible?(u(),_("div",Ke,[e("div",Ze,[We,e("div",Qe,[o(f,{onClick:i.closeModal},{default:l(()=>[v("退出")]),_:1},8,["onClick"])])])])):w("",!0)}const et=C(Je,[["render",Xe],["__scopeId","data-v-627dde4b"]]),tt={name:"BillDetails",data(){return{isVisible:!1,form:{type:"",department:"",price:0,date:"",id:0}}},methods:{openModal(t){this.isVisible=!0,document.body.style.overflow="hidden",this.form.type=t.type,this.form.department=t.department,this.form.price=t.price,this.form.date=t.date,this.form.id=t.id},closeModal(){this.isVisible=!1,document.body.style.overflow=""},cancelModal(){j({type:"info",message:"取消缴费 ╮(╯▽╰)╭",showClose:!0}),this.closeModal()},submitForm(){this.$emit("update:pay-status",this.form.id),j({showClose:!0,message:"缴费成功 ╰(*°▽°*)╯",type:"success"}),this.closeModal()}}},nt={key:0,class:"modal-background"},st={class:"modal-container"},ot={class:"button-group"};function it(t,s,d,p,n,i){const f=r("el-form-header"),c=r("el-form-item"),a=r("el-button"),h=r("el-form");return n.isVisible?(u(),_("div",nt,[e("div",st,[o(h,{model:n.form,class:"form","label-width":"auto",style:{"max-width":"600px"}},{default:l(()=>[o(f,{class:"form-header"},{default:l(()=>[v("缴费详情")]),_:1}),o(c,{label:"类型"},{default:l(()=>[v(m(n.form.type),1)]),_:1}),o(c,{label:"开具科室"},{default:l(()=>[v(m(n.form.department),1)]),_:1}),o(c,{label:"费用（元）"},{default:l(()=>[v(m(n.form.price),1)]),_:1}),o(c,{label:"创建时间"},{default:l(()=>[v(m(n.form.date),1)]),_:1}),e("div",ot,[o(a,{onClick:i.submitForm,type:"primary",plain:!0},{default:l(()=>[v("确认缴费")]),_:1},8,["onClick"]),o(a,{onClick:i.cancelModal},{default:l(()=>[v("取消")]),_:1},8,["onClick"])])]),_:1},8,["model"])])])):w("",!0)}const at=C(tt,[["render",it],["__scopeId","data-v-6ec9d3f2"]]),lt={data(){return{desc:"缴费列表统计",bill:[],pagination:{total:0,currentPage:1,pageSize:10},filteredBills:[],filteredBillsDiv:[]}},components:{BillDetails:at},methods:{getBillsData(){return new Promise((t,s)=>{let d=this;this.$axios.post("/api/bills/list/",{identity_num:"123",action:"getBillsData"}).then(function(p){d.bill=p.data.bill,console.log(d.bill),t()}).catch(function(p){console.log(p),s(p)})})},handleCurrentChange(t){this.pagination.currentPage=t;const s=(this.pagination.currentPage-1)*this.pagination.pageSize,d=s+this.pagination.pageSize;this.filteredBillsDiv=this.filteredBills.slice(s,d),this.pagination.total=this.filteredBills.length},showBillDetails(t){this.$refs.BillDetails.openModal(t)},selectFunc(t){this.filteredBills=this.bill.filter(s=>s.payStatus===t),this.handleCurrentChange(1)},changeBillStatus(t){return new Promise((s,d)=>{let p=this;this.$axios.post("/api/bills/list/",{identity_num:"123",action:"changeBillStatus",item_id:t}).then(function(n){p.bill=n.data.bill,console.log(p.bill),s()}).catch(function(n){console.log(n),d(n)})})},updatePayStatus(t){this.changeBillStatus(t).then(()=>{this.selectFunc(!1)})}},mounted(){this.getBillsData().then(()=>{this.selectFunc(!1),this.handleCurrentChange(1)})}},rt=t=>(M("data-v-87b57298"),t=t(),q(),t),ct=rt(()=>e("span",null,"缴费列表",-1)),dt={class:"main"},ut={key:0},mt={key:1,class:"butAbanText"};function pt(t,s,d,p,n,i){const f=r("BillDetails"),c=r("el-menu-item"),a=r("el-sub-menu"),h=r("el-menu"),b=r("el-aside"),k=r("el-header"),y=r("el-table-column"),g=r("el-button"),$=r("el-table"),V=r("el-pagination"),F=r("el-main"),S=r("el-footer"),A=r("el-container");return u(),_("div",null,[o(f,{"onUpdate:payStatus":i.updatePayStatus,ref:"BillDetails"},null,8,["onUpdate:payStatus"]),o(A,{class:"componentBody"},{default:l(()=>[o(A,null,{default:l(()=>[o(b,null,{default:l(()=>[o(h,{class:"aside my-menu","default-active":"1","unique-opened":!0},{default:l(()=>[o(a,{index:"1"},{title:l(()=>[ct]),default:l(()=>[o(c,{index:"1",onClick:s[0]||(s[0]=D=>i.selectFunc(!1))},{default:l(()=>[v("未缴费")]),_:1}),o(c,{index:"2",onClick:s[1]||(s[1]=D=>i.selectFunc(!0))},{default:l(()=>[v("已缴费")]),_:1})]),_:1})]),_:1})]),_:1}),o(A,null,{default:l(()=>[o(k,{height:"30px",style:{padding:"0",margin:"0"}}),o(F,{class:"el-main"},{default:l(()=>[e("div",dt,[o($,{data:n.filteredBillsDiv,class:"el-table"},{default:l(()=>[o(y,{prop:"type",label:"类型"}),o(y,{prop:"department",label:"开具科室"}),o(y,{prop:"price",label:"费用（元）"}),o(y,{prop:"date",label:"创建时间"}),o(y,{style:{textalign:"right"},label:"操作"},{default:l(D=>[D.row.payStatus===!1?(u(),_("div",ut,[o(g,{class:"pay-button",onClick:X=>i.showBillDetails(D.row)},{default:l(()=>[v("缴费")]),_:2},1032,["onClick"])])):(u(),_("div",mt,"已缴费，无需操作"))]),_:1})]),_:1},8,["data"]),o(V,{class:"page","current-page":n.pagination.currentPage,"page-size":n.pagination.pageSize,total:n.pagination.total,"pager-count":3,background:"",layout:"prev, pager, next, total","onUpdate:currentPage":i.handleCurrentChange},null,8,["current-page","page-size","total","onUpdate:currentPage"])])]),_:1}),o(S,{height:"30px",align:"center",class:"footer"},{default:l(()=>[v("SE_GROUP_6")]),_:1})]),_:1})]),_:1})]),_:1})])}const _t=C(lt,[["render",pt],["__scopeId","data-v-87b57298"]]),ht={},ft=t=>(M("data-v-8827876a"),t=t(),q(),t),vt={class:"sign-container"},gt={class:"neirong"},yt=ft(()=>e("p",null,"详细信息以医院出具的单据为准！",-1));function bt(t,s){const d=r("Warning"),p=r("el-icon");return u(),_("div",vt,[e("div",gt,[o(p,{class:"jinggao"},{default:l(()=>[o(d)]),_:1}),yt])])}const fe=C(ht,[["render",bt],["__scopeId","data-v-8827876a"]]),kt={name:"DetailA",data(){return{isVisible:!1,form:{id:"",office:"",orderNum:"",price:"",name:"",cardNum:"",position:"",time:"",line:"",state:"",doctor:""}}},methods:{cancelRegister(){return new Promise((t,s)=>{let d={action:"cancelRegister",id:this.form.id};this.$axios.post("/api/registers/cancel/",d).then(function(p){console.log(p.data.msg),t()}).catch(function(p){console.log(p),s(p)})})},openModal(t){this.isVisible=!0,document.body.style.overflow="hidden",this.form.id=t.id,this.form.office=t.office,this.form.orderNum=t.orderNum,this.form.price=t.price,this.form.name=t.name,this.form.cardNum=t.cardNum,this.form.line=t.line,this.form.position=t.position,this.form.time=t.time,this.form.state=t.state,this.form.doctor=t.doctor},closeModal(){this.isVisible=!1,document.body.style.overflow=""},cancelModal(){this.cancelRegister().then(()=>{j({type:"info",message:"取消挂号成功 ╮(╯▽╰)╭",showClose:!0}),this.closeModal()})}}},L=t=>(M("data-v-f7bd4b52"),t=t(),q(),t),xt={key:0,class:"modal-background"},$t={class:"modal-container"},wt={class:"head"},Ct={style:{"margin-left":"15px","font-size":"larger",color:"white"}},St={key:0,style:{"margin-left":"15px","font-size":"small",color:"white"}},Dt={class:"content"},Tt=L(()=>e("h3",null,"就诊信息",-1)),Mt={class:"line"},qt=L(()=>e("p",{style:{"margin-left":"15px"}},"就诊科室：",-1)),At={class:"line"},Vt=L(()=>e("p",{style:{"margin-left":"15px"}},"科室地址：",-1)),It={class:"line"},Pt=L(()=>e("p",{style:{"margin-left":"15px"}},"医生：",-1)),Bt={class:"line"},Ut=L(()=>e("p",{style:{"margin-left":"15px"}},"预约时间：",-1)),Rt={class:"y"},Lt=L(()=>e("p",{class:"w"},"就诊时间以医生实际看诊叫号顺序为准",-1)),Ft={class:"line"},jt=L(()=>e("p",{style:{"margin-left":"15px"}},"排队号：",-1)),Nt={class:"line"},Ht=L(()=>e("p",{style:{"margin-left":"15px"}},"就诊人：",-1)),zt={class:"line"},Et=L(()=>e("p",{style:{"margin-left":"15px"}},"电子就医卡号：",-1)),Ot=L(()=>e("div",{class:"m"},null,-1)),Yt={class:"content"},Gt=L(()=>e("h3",null,"订单信息",-1)),Jt={class:"line"},Kt=L(()=>e("p",{style:{"margin-left":"15px"}},"订单号：",-1)),Zt={class:"line"},Wt=L(()=>e("p",{style:{"margin-left":"15px"}},"费用：",-1)),Qt={class:"button"},Xt={class:"button"};function en(t,s,d,p,n,i){const f=r("Bell"),c=r("el-icon"),a=r("el-button");return n.isVisible?(u(),_("div",xt,[e("div",$t,[e("div",wt,[e("p",Ct,m(n.form.state),1),n.form.state==="已预约"?(u(),_("p",St," 请在约定时间前往就诊 ")):w("",!0)]),e("div",Dt,[Tt,e("div",Mt,[qt,e("p",null,m(n.form.office),1)]),e("div",At,[Vt,e("p",null,m(n.form.position),1)]),e("div",It,[Pt,e("p",null,m(n.form.doctor),1)]),e("div",Bt,[Ut,e("p",null,m(n.form.time),1)]),e("div",Rt,[o(c,{class:"w"},{default:l(()=>[o(f)]),_:1}),Lt]),e("div",Ft,[jt,e("p",null,m(n.form.line),1)]),e("div",Nt,[Ht,e("p",null,m(n.form.name),1)]),e("div",zt,[Et,e("p",null,m(n.form.cardNum),1)])]),Ot,e("div",Yt,[Gt,e("div",Jt,[Kt,e("p",null,m(n.form.orderNum),1)]),e("div",Zt,[Wt,e("p",null,"现场待支付医事服务费"+m(n.form.price),1)])]),e("div",Qt,[n.form.state==="已预约"?(u(),P(a,{key:0,onClick:i.cancelModal},{default:l(()=>[v("取消挂号")]),_:1},8,["onClick"])):w("",!0)]),e("div",Xt,[o(a,{onClick:i.closeModal},{default:l(()=>[v("退出")]),_:1},8,["onClick"])])])])):w("",!0)}const tn=C(kt,[["render",en],["__scopeId","data-v-f7bd4b52"]]),nn={name:"HistoryA",props:{filterInfo:{type:Array,required:!0}},data(){return{circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}},components:{DetailA:tn},methods:{showPrescriptionDetails(t){this.$refs.detail.openModal(t)}}},H=t=>(M("data-v-499d51b4"),t=t(),q(),t),sn={class:"container"},on={class:"card-container"},an={class:"header"},ln={class:"row"},rn={class:"row1"},cn=H(()=>e("p",{style:{"font-size":"larger","margin-right":"10px","font-weight":"600"}},"门诊号",-1)),dn=H(()=>e("div",{class:"row2"},[e("p",null,"猫猫就诊医院")],-1)),un={style:{color:"darkblue","margin-left":"60px"}},mn={class:"content"},pn={class:"line"},_n=H(()=>e("p",null,"订单号：",-1)),hn={class:"line"},fn=H(()=>e("p",null,"费用：",-1)),vn={class:"line"},gn=H(()=>e("p",null,"就诊人：",-1)),yn={class:"line"},bn=H(()=>e("p",null,"电子就医卡号：",-1)),kn={class:"line"},xn=H(()=>e("p",null,"科室地址：",-1)),$n={class:"line"},wn=H(()=>e("p",null,"预约时间：",-1)),Cn={class:"line"},Sn=H(()=>e("p",null,"排队号：",-1)),Dn={class:"neirong"},Tn=H(()=>e("p",null," 实际就诊时间以医院安排为准！",-1)),Mn={class:"button"};function qn(t,s,d,p,n,i){const f=r("DetailA"),c=r("el-avatar"),a=r("el-divider"),h=r("Warning"),b=r("el-icon"),k=r("el-button"),y=r("el-card"),g=r("el-footer");return u(),_(x,null,[o(f,{ref:"detail"},null,512),e("div",sn,[e("div",on,[(u(!0),_(x,null,T(d.filterInfo,$=>(u(),P(y,{key:$,style:{width:"30%","min-height":"400px",margin:"1.6%"}},{default:l(()=>[e("div",an,[o(c,{size:50,src:n.circleUrl},null,8,["src"]),e("div",ln,[e("div",rn,[cn,e("p",null,m($.office),1)]),dn]),e("p",un,m($.state),1)]),o(a,{class:"divider"}),e("div",mn,[e("div",pn,[_n,e("p",null,m($.orderNum),1)]),e("div",hn,[fn,e("p",null,m($.price),1)]),e("div",vn,[gn,e("p",null,m($.name),1)]),e("div",yn,[bn,e("p",null,m($.cardNum),1)]),e("div",kn,[xn,e("p",null,m($.position),1)]),e("div",$n,[wn,e("p",null,m($.time),1)]),e("div",Cn,[Sn,e("p",null,m($.line),1)])]),e("div",Dn,[o(b,{class:"jinggao"},{default:l(()=>[o(h)]),_:1}),Tn]),o(a,{class:"divider"}),e("div",Mn,[o(k,{type:"primary",plain:"",onClick:V=>i.showPrescriptionDetails($),class:"xiang"},{default:l(()=>[v("显示详情")]),_:2},1032,["onClick"]),$.state==="已预约"?(u(),P(k,{key:0,type:"primary",plain:""},{default:l(()=>[v("取消挂号")]),_:1})):w("",!0)])]),_:2},1024))),128))]),o(g,{height:"30px",align:"center",class:"footer"},{default:l(()=>[v("SE_GROUP_6")]),_:1})])],64)}const An=C(nn,[["render",qn],["__scopeId","data-v-499d51b4"]]),Vn=t=>(M("data-v-f967d0cb"),t=t(),q(),t),In={class:"all-container",width:"100%"},Pn={class:"search-container"},Bn=Vn(()=>e("div",{class:"wenzi"},[e("p",{class:"guahao"},"挂号查询"),e("p",{class:"back"},"首页 > 挂号查询")],-1)),Un={class:"input-container"},Rn={class:"chaxun"},Ln={__name:"PatientA",setup(t){const s=B(""),d=B([]),{proxy:p}=getCurrentInstance(),n=()=>new Promise((c,a)=>{let h={action:"getRegistersData",identity_num:p.appContext.config.globalProperties.$identity_num};axios.post("/api/registers/list/",h).then(b=>{d.value=b.data.registers,console.log("Registers data fetched:",d.value),c()}).catch(b=>{console.error("Error fetching registers data:",b),a(b)})}),i=()=>{console.log(`查询内容是：${s.value}`)},f=W(()=>d.value.filter(c=>/^\d/.test(s.value)?c.time.split(" ")[0]===s.value:s.value?c.office===s.value:!0));return ne(()=>{n().then(()=>{})}),(c,a)=>{const h=r("el-divider"),b=r("search"),k=r("el-icon"),y=r("el-input"),g=r("el-button"),$=r("scroll"),V=r("el-container");return u(),P(V,{style:{height:"100vh"}},{default:l(()=>[o($,null,{default:l(()=>[e("div",In,[e("div",Pn,[Bn,o(h,{class:"divider"})]),o(fe),e("div",Un,[e("div",Rn,[o(y,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=F=>s.value=F),style:{width:"300px",height:"40px"},placeholder:"请输入就诊日期(例:2024-05-09) 或 科室",class:"shuru"},{prefix:l(()=>[o(k,{class:"el-input__icon"},{default:l(()=>[o(b)]),_:1})]),_:1},8,["modelValue"]),o(g,{color:"#DBA979",dark:c.isDark,plain:"",class:"searchButton",style:{width:"80px",height:"40px"},onClick:i},{default:l(()=>[v("查询")]),_:1},8,["dark"]),e("p",null,m(s.value),1)])]),o(An,{filterInfo:f.value},null,8,["filterInfo"])])]),_:1})]),_:1})}}},Fn=C(Ln,[["__scopeId","data-v-f967d0cb"]]),jn={name:"PrescriptionDetails",data(){return{isVisible:!1,form:{name:"",date:new Date().toISOString().substr(0,10),gender:"",advice:"",medicines:[{name:"",quantity:0,price:0,totalPrice:0}]},medicinesDB:[]}},computed:{totalPrice(){return this.form.medicines.reduce((t,s)=>t+parseFloat(s.totalPrice||0),0).toFixed(2)}},methods:{getMedicineData(){return new Promise((t,s)=>{let d=this;this.$axios.get("/api/medicine/list/").then(function(p){d.medicinesDB=p.data.medicine,console.log(d.medicinesDB),t()}).catch(function(p){console.log(p),s(p)})})},openModal(t){this.isVisible=!0,document.body.style.overflow="hidden",this.form.name=t.name,this.form.gender=t.sex},closeModal(){this.isVisible=!1,document.body.style.overflow=""},cancelModal(){j({type:"info",message:"取消提交 ╮(╯▽╰)╭",showClose:!0}),this.closeModal()},submitForm(){j({showClose:!0,message:"提交成功 ╰(*°▽°*)╯",type:"success"}),console.log("提交表单",this.form),this.closeModal()},addMedicine(){this.form.medicines.push({name:"",quantity:0,price:0,totalPrice:0})},removeMedicine(t){this.form.medicines.splice(t,1)},calculatePrice(t){const s=this.medicinesDB.find(d=>d.name===t.name);s&&(t.price=s.price,t.totalPrice=(s.price*t.quantity).toFixed(2))},querySearch(t,s){const d=this.medicinesDB.map(n=>({value:n.name,symptoms:n.use})),p=t?d.filter(this.createFilter(t)):d;s(p)},createFilter(t){return s=>{const d=s.value.toLowerCase().includes(t.toLowerCase()),p=s.symptoms.some(n=>n.toLowerCase().includes(t.toLowerCase()));return d||p}},handleSelect(t){return s=>{const d=this.medicinesDB.find(p=>p.name===s.value);if(d){const p=this.form.medicines[t];p.name=d.name,p.price=d.price,this.calculatePrice(p)}}}},mounted(){this.getMedicineData().then(()=>{})}},Nn=t=>(M("data-v-b2ad8b08"),t=t(),q(),t),Hn={key:0,class:"modal-background"},zn={class:"modal-container"},En=Nn(()=>e("div",{class:"form-header"},"处方开具",-1)),On={class:"button-group"};function Yn(t,s,d,p,n,i){const f=r("el-input"),c=r("el-form-item"),a=r("el-date-picker"),h=r("el-radio"),b=r("el-radio-group"),k=r("el-autocomplete"),y=r("el-input-number"),g=r("el-col"),$=r("el-row"),V=r("el-button"),F=r("el-form");return n.isVisible?(u(),_("div",Hn,[e("div",zn,[o(F,{model:n.form,class:"form","label-width":"auto",style:{"max-width":"600px"}},{default:l(()=>[En,o(c,{label:"姓名",class:"namelable"},{default:l(()=>[o(f,{modelValue:n.form.name,"onUpdate:modelValue":s[0]||(s[0]=S=>n.form.name=S)},null,8,["modelValue"])]),_:1}),o(c,{label:"就诊日期"},{default:l(()=>[o(a,{modelValue:n.form.date,"onUpdate:modelValue":s[1]||(s[1]=S=>n.form.date=S),type:"date"},null,8,["modelValue"])]),_:1}),o(c,{label:"性别"},{default:l(()=>[o(b,{modelValue:n.form.gender,"onUpdate:modelValue":s[2]||(s[2]=S=>n.form.gender=S)},{default:l(()=>[o(h,{value:"男"},{default:l(()=>[v("男")]),_:1}),o(h,{value:"女"},{default:l(()=>[v("女")]),_:1})]),_:1},8,["modelValue"])]),_:1}),(u(!0),_(x,null,T(n.form.medicines,(S,A)=>(u(),P(c,{key:A},{default:l(()=>[o(k,{modelValue:S.name,"onUpdate:modelValue":D=>S.name=D,"trigger-on-focus":!1,"fetch-suggestions":i.querySearch,placeholder:"药物名称或症状",onSelect:D=>i.handleSelect(A),"show-all":!0},null,8,["modelValue","onUpdate:modelValue","fetch-suggestions","onSelect"]),o(y,{modelValue:S.quantity,"onUpdate:modelValue":D=>S.quantity=D,min:0,step:1,placeholder:"数量",onChange:D=>i.calculatePrice(S)},null,8,["modelValue","onUpdate:modelValue","onChange"]),o($,null,{default:l(()=>[o(g,{span:12},{default:l(()=>[o(f,{modelValue:S.totalPrice,"onUpdate:modelValue":D=>S.totalPrice=D,disabled:"",placeholder:"总价",style:{"margin-left":"10px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),n.form.medicines.length>1?(u(),P(V,{key:0,type:"danger",icon:"el-icon-delete",onClick:D=>i.removeMedicine(A),class:"delete-button"},{default:l(()=>[v("删除药物")]),_:2},1032,["onClick"])):w("",!0)]),_:2},1024))),128)),o(c,null,{default:l(()=>[o(V,{onClick:i.addMedicine,type:"primary"},{default:l(()=>[v("添加药物")]),_:1},8,["onClick"])]),_:1}),o(c,{label:"医师建议"},{default:l(()=>[o(f,{type:"textarea",modelValue:n.form.advice,"onUpdate:modelValue":s[3]||(s[3]=S=>n.form.advice=S)},null,8,["modelValue"])]),_:1}),o(c,null,{default:l(()=>[o(f,{modelValue:i.totalPrice,"onUpdate:modelValue":s[4]||(s[4]=S=>i.totalPrice=S),disabled:"",placeholder:"总价"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e("div",On,[o(V,{onClick:i.submitForm,type:"primary"},{default:l(()=>[v("提交")]),_:1},8,["onClick"]),o(V,{onClick:i.cancelModal},{default:l(()=>[v("退出")]),_:1},8,["onClick"])])])])):w("",!0)}const Gn=C(jn,[["render",Yn],["__scopeId","data-v-b2ad8b08"]]),Jn={data(){return{desc:"问诊列表统计",patient:[{Id:"1",name:"秋子夜",age:"18",sex:"男",date:"2024年5月10日"}],filteredPatients:[],currentPatients:[],pagination:{total:0,currentPage:1,pageSize:10}}},components:{PrescriptionDetails:Gn},methods:{handleCurrentChange(t){this.pagination.currentPage=t;const s=(this.pagination.currentPage-1)*this.pagination.pageSize,d=s+this.pagination.pageSize;this.currentPatients=this.filteredPatients.slice(s,d),this.pagination.total=this.filteredPatients.length,console.log("看看这里能读吗1"),console.log(this.patient)},getTreatmentsData(){return new Promise((t,s)=>{let d=this;this.$axios.get("/api/treatments/list/").then(function(p){d.patient=p.data.treatments,console.log(d.patient),t()}).catch(function(p){console.log(p.response),s(p)})})},showPrescriptionDetails(t){this.$refs.prescriptionDetails.openModal(t)},selectFunc(t){let s=new Date;s.setHours(0,0,0,0);let d=new Date(s);switch(d.setDate(d.getDate()-1),t){case"1":this.filteredPatients=this.patient.filter(p=>{let n=p.date.split("年").join("-").split("月").join("-").split("日").join("").split("-"),i=new Date(n[0],n[1]-1,n[2]);return i.setHours(0,0,0,0),i.toDateString()===s.toDateString()}),this.handleCurrentChange(1);break;case"2":this.filteredPatients=this.patient.filter(p=>{let n=p.date.split("年").join("-").split("月").join("-").split("日").join("").split("-"),i=new Date(n[0],n[1]-1,n[2]);return i.setHours(0,0,0,0),i.toDateString()===d.toDateString()}),this.handleCurrentChange(1);break;case"3":this.filteredPatients=this.patient.filter(p=>{let n=p.date.split("年").join("-").split("月").join("-").split("日").join("").split("-"),i=new Date(n[0],n[1]-1,n[2]);return i.setHours(0,0,0,0),i<d}),this.handleCurrentChange(1);break}console.log(this.filteredPatients)}},mounted(){this.getTreatmentsData().then(()=>{this.selectFunc("1"),this.handleCurrentChange(1)})}},Kn=t=>(M("data-v-2919c411"),t=t(),q(),t),Zn=Kn(()=>e("span",null,"问诊列表",-1));function Wn(t,s,d,p,n,i){const f=r("PrescriptionDetails"),c=r("el-menu-item"),a=r("el-sub-menu"),h=r("el-menu"),b=r("el-aside"),k=r("el-header"),y=r("el-table-column"),g=r("el-button"),$=r("el-table"),V=r("el-pagination"),F=r("el-main"),S=r("el-footer"),A=r("el-container");return u(),_(x,null,[o(f,{ref:"prescriptionDetails"},null,512),o(A,{style:{height:"100vh"}},{default:l(()=>[o(A,null,{default:l(()=>[o(b,{width:"200px"},{default:l(()=>[o(h,{class:"aside my-menu","default-active":"1","unique-opened":!0},{default:l(()=>[o(a,{index:"1"},{title:l(()=>[Zn]),default:l(()=>[o(c,{index:"1",onClick:s[0]||(s[0]=D=>i.selectFunc("1"))},{default:l(()=>[v("今日")]),_:1}),o(c,{index:"2",onClick:s[1]||(s[1]=D=>i.selectFunc("2"))},{default:l(()=>[v("昨日")]),_:1}),o(c,{index:"3",onClick:s[2]||(s[2]=D=>i.selectFunc("3"))},{default:l(()=>[v("更早")]),_:1})]),_:1})]),_:1})]),_:1}),o(A,null,{default:l(()=>[o(k,{height:"30px",style:{padding:"0",margin:"0"}}),o(F,{class:"main"},{default:l(()=>[e("div",null,[o($,{data:n.currentPatients},{default:l(()=>[o(y,{prop:"Id",label:"单号"}),o(y,{prop:"name",label:"姓名"}),o(y,{prop:"age",label:"年龄"}),o(y,{prop:"sex",label:"性别"}),o(y,{prop:"date",style:{"background-color":"black"},label:"问诊时间"}),o(y,{style:{"text-align":"right"},label:"操作"},{default:l(D=>[o(g,{class:"prescribe-button",onClick:X=>i.showPrescriptionDetails(D.row)},{default:l(()=>[v("开具处方")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(V,{class:"page","current-page":n.pagination.currentPage,"page-size":n.pagination.pageSize,total:n.pagination.total,"pager-count":3,background:"",layout:"prev, pager, next, total","onUpdate:currentPage":i.handleCurrentChange},null,8,["current-page","page-size","total","onUpdate:currentPage"])])]),_:1}),o(S,{height:"30px",align:"center",class:"footer"},{default:l(()=>[v("SE_GROUP_6")]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Qn=C(Jn,[["render",Wn],["__scopeId","data-v-2919c411"]]),Xn={data(){return{activeNames:["1","2"],table:!1,timer:null,resMes:[],billMes:[]}},methods:{countUnread(){const t=this.resMes.filter(d=>d.read===!1).length,s=this.billMes.filter(d=>d.read===!1).length;this.$emit("update:result",t+s)},getMesData(){return new Promise((t,s)=>{let d=this;const p=getCurrentInstance();this.$axios.post("api/notice/list/",{identity_num:p.appContext.config.globalProperties.$identity_num}).then(function(n){d.resMes=n.data.resMes,d.billMes=n.data.billMes,console.log(d.resMes),console.log(d.billMes),d.countUnread(),t()}).catch(function(n){console.log(n),s(n)})})},openDrawer(){this.table=!0},turnToBill(){this.table=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})},tableRowClassName({row:t,rowIndex:s}){return t.read===!1?"warning-row":t.read===!0?"success-row":""},readMes(t){t.read=!0,this.getMesData()},payOverTimeQuery(){},mounted(){this.getMesData().then(()=>{this.intervalId=setInterval(this.payOverTimeQuery,3e4)})},beforeDestroy(){clearInterval(this.intervalId)}}},U=t=>(M("data-v-1057b169"),t=t(),q(),t),es={class:"myDrawer"},ts={class:"demo-collapse"},ns={class:"messageList"},ss={key:0,m:"4"},os=U(()=>e("p",null,"尊敬的患者:",-1)),is=U(()=>e("p",null,[v("您好！您已"),e("b",null,"成功预约"),v("了我院的挂号服务。以下是您的预约详情：")],-1)),as={m:"t-0 b-2"},ls={m:"t-0 b-2"},rs={m:"t-0 b-2"},cs={m:"t-0 b-2"},ds=U(()=>e("p",null,[v(" 请您准时到达，并携带"),e("b",null,"有效身份证件及相关病历资料"),v("。 "),e("br"),v("感谢您选择我院，祝您身体健康！ ")],-1)),us={style:{"text-align":"right"}},ms=U(()=>e("br",null,null,-1)),ps={key:1,m:"4"},_s=U(()=>e("p",null,"尊敬的患者:",-1)),hs=U(()=>e("p",null,[v("您好！我们收到了您的"),e("b",null,"预约挂号取消"),v("请求。以下是已取消的预约信息：")],-1)),fs={m:"t-0 b-2"},vs={m:"t-0 b-2"},gs={m:"t-0 b-2"},ys={m:"t-0 b-2"},bs=U(()=>e("p",null,[v(" 请您注意，若未来需要再次预约，"),e("b",null,"请提前通过我院官网进行预约"),v("。 "),e("br"),v("感谢您的理解与合作，祝您身体健康！ ")],-1)),ks={style:{"text-align":"right"}},xs=U(()=>e("br",null,null,-1)),$s={key:0},ws={key:1,class:"butAbanText"},Cs={class:"messageList"},Ss={key:0,m:"4"},Ds=U(()=>e("p",null,"尊敬的患者:",-1)),Ts=U(()=>e("p",null,[v("您好！您在我院的就诊处方"),e("b",null,"即将到达缴费截止时间"),v("。处方详情如下：")],-1)),Ms={m:"t-0 b-2"},qs={m:"t-0 b-2"},As={m:"t-0 b-2"},Vs={m:"t-0 b-2"},Is=U(()=>e("p",null,[v(" 请您"),e("b",null,"在30分钟内完成缴费"),v("，以免影响您的就诊计划。 "),e("br"),v("感谢您的配合，祝您身体健康！ ")],-1)),Ps={style:{"text-align":"right"}},Bs=U(()=>e("br",null,null,-1)),Us={key:1,m:"4"},Rs=U(()=>e("p",null,"尊敬的患者:",-1)),Ls=U(()=>e("p",null,[v("您好！您在我院的就诊处方"),e("b",null,"缴费成功"),v("。处方详情如下：")],-1)),Fs={m:"t-0 b-2"},js={m:"t-0 b-2"},Ns={m:"t-0 b-2"},Hs={m:"t-0 b-2"},zs=U(()=>e("p",null," 感谢您对我们医院的信任与支持。如有任何疑问或需要进一步的帮助，请随时联系我们。祝您身体健康！ ",-1)),Es={style:{"text-align":"right"}},Os=U(()=>e("br",null,null,-1)),Ys={key:0},Gs={key:1,class:"butAbanText"};function Js(t,s,d,p,n,i){const f=r("el-table-column"),c=r("el-button"),a=r("el-table"),h=r("el-collapse-item"),b=r("router-link"),k=r("el-collapse"),y=r("el-drawer");return u(),_("div",es,[o(y,{modelValue:n.table,"onUpdate:modelValue":s[1]||(s[1]=g=>n.table=g),title:"消息列表",direction:"rtl",size:"40%"},{default:l(()=>[e("div",ts,[o(k,{modelValue:n.activeNames,"onUpdate:modelValue":s[0]||(s[0]=g=>n.activeNames=g),onChange:t.handleChange},{default:l(()=>[o(h,{title:"   预约通知",name:"1",class:"collapseItem1"},{default:l(()=>[e("div",ns,[o(a,{data:n.resMes,style:{width:"100%"},"row-class-name":i.tableRowClassName},{default:l(()=>[o(f,{type:"expand"},{default:l(g=>[g.row.type=="预约成功"?(u(),_("div",ss,[os,is,e("strong",null,[e("p",as,"- 预约编号: "+m(g.row.id),1),e("p",ls,"- 预约科室: "+m(g.row.department),1),e("p",rs,"- 预约医生: "+m(g.row.doctor),1),e("p",cs,"- 预约就诊时间: "+m(g.row.time),1)]),ds,e("p",us,[v(" 猫猫就诊ฅ 预约挂号服务中心"),ms,v(" "+m(g.row.timetamp),1)])])):w("",!0),g.row.type=="取消预约"?(u(),_("div",ps,[_s,hs,e("strong",null,[e("p",fs,"- 预约编号: "+m(g.row.id),1),e("p",vs,"- 预约科室: "+m(g.row.department),1),e("p",gs,"- 预约医生: "+m(g.row.doctor),1),e("p",ys,"- 预约就诊时间: "+m(g.row.time),1)]),bs,e("p",ks,[v(" 猫猫就诊 预约挂号服务中心"),xs,v(" "+m(g.row.timetamp),1)])])):w("",!0)]),_:1}),o(f,{label:"已读?"},{default:l(g=>[g.row.read===!1?(u(),_("div",$s,[o(c,{class:"pay-button",onClick:$=>i.readMes(g.row)},{default:l(()=>[v("确认")]),_:2},1032,["onClick"])])):(u(),_("div",ws,"已读"))]),_:1}),o(f,{label:"类型",prop:"type"}),o(f,{label:"患者姓名",prop:"name"}),o(f,{label:"就诊时间",prop:"time"})]),_:1},8,["data","row-class-name"])])]),_:1}),o(h,{title:"   缴费通知",name:"2",class:"collapseItem2"},{default:l(()=>[e("div",Cs,[o(a,{data:n.billMes,style:{width:"100%"},"row-class-name":i.tableRowClassName},{default:l(()=>[o(f,{type:"expand"},{default:l(g=>[g.row.type=="处方缴费提醒"?(u(),_("div",Ss,[Ds,Ts,e("strong",null,[e("p",Ms,"- 处方编号: "+m(g.row.id),1),e("p",qs,"- 开具科室: "+m(g.row.department),1),e("p",As,"- 开具医生: "+m(g.row.doctor),1),e("p",Vs,"- 开具时间: "+m(g.row.time),1)]),Is,o(b,{to:"/Bill",onClick:i.turnToBill},{default:l(()=>[v("缴费入口")]),_:1},8,["onClick"]),e("p",Ps,[v(" 猫猫就诊 缴费服务中心"),Bs,v(" "+m(g.row.timetamp),1)])])):w("",!0),g.row.type=="处方缴费成功"?(u(),_("div",Us,[Rs,Ls,e("strong",null,[e("p",Fs,"- 处方编号: "+m(g.row.id),1),e("p",js,"- 开具科室: "+m(g.row.department),1),e("p",Ns,"- 开具医生: "+m(g.row.doctor),1),e("p",Hs,"- 开具时间: "+m(g.row.time),1)]),zs,e("p",Es,[v(" 猫猫就诊 缴费服务中心"),Os,v(" "+m(g.row.timetamp),1)])])):w("",!0)]),_:1}),o(f,{label:"已读?"},{default:l(g=>[g.row.read===!1?(u(),_("div",Ys,[o(c,{class:"pay-button",onClick:$=>i.readMes(g.row)},{default:l(()=>[v("确认")]),_:2},1032,["onClick"])])):(u(),_("div",Gs,"已读"))]),_:1}),o(f,{label:"类型",prop:"type"}),o(f,{label:"患者姓名",prop:"name"}),o(f,{label:"时间",prop:"time"})]),_:1},8,["data","row-class-name"])])]),_:1})]),_:1},8,["modelValue","onChange"])])]),_:1},8,["modelValue"])])}const ve=C(Xn,[["render",Js],["__scopeId","data-v-1057b169"]]),Ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACECAYAAABVsVOaAAAI/UlEQVR4nO3deYxV1R3A8e9cQRwcFOPSljJWlKlUUKpg0opaEY0RpSaSuMUNjWLauPWP2iqx/9Qm1KULpjatdd9Qq0jd0MSlTNwQRXGhRUS0tlahhJFCoTqvf/zekzev782795xzzzn3vd8nmTDMvHPeL/B7527n/E5HqVSizewI7AGMB7qBkUAn0AFU/jE6gM3ABuBfwEvAaqDfd7ChDAkdgAe7Ad8CDgYOAvYv/6wjYz+ry18vAEuBZ5HkaUkdLTpiDAWOBU4EpiOjhGsfAU8CdwF/zqH/oFotMbqA2cD5wGiP77scmAfc6fE9c9VKiXEhcAnw5YAxvA7MBRYEjMGJVkiMbwM/Rc4jYvEIcCWwInQgpoqeGLOB60IH0cBW4LvA4tCBmEhCB2DhOuJNCoDtgceBC0IHYqKoI8YDwDGhg8jgF8Cc0EFkUcQR416KlRQAlwIXhw4ii6IlxrXAcaGDMPQz4PTQQaRVpEPJScDNoYNwYDLwduggmilKYuwMfEj229gxeh+YAHweOpDBFOVQciOtkRQAewJXhQ6imSKMGEcgN4xazUTgndBBNFKExHgb+ZS1mmeI+EQ69kPJkbRmUoCMhJNCB9FI7Inx49AB5OyK0AE0EvOhpJsCP4TKoAf4e+ggasU8YkwJHYAnp4YOoJ6YE2Nq6AA8OTZ0APXEeigZBryLTNRtdVuAMcjE42jEOmIcQHskBciHoDt0ELViTYyzQwfgWXSXrTEeSr4BvBw6CM8+AMaFDqJabCPGfsCi0EEE0A0sRB4WRsHniNEFDGfbaq/PgF2B3ZGnjYcgj9bb2SfAw8ASoA/YG/gSsBEZVT4F3kPu72zMM5C8EmMkMmu7svJrf2AnZClgqfzVX/6Zym4d8CbwPNALPOX6DVwmxnbATGAGcBT6n+7TO8BjwHzgVRcdukiMTuBcZPXXPtYRKVtPIJOPrZZN2ibGecjqr71sOlG5WARcjRxuMjNNjAnA9cgKchW33wGXIQugUjNJjJPKbzY0a0MVzEpkdF+StkHW+xi/RGZqa1IUSw8yY+zMtA2yJMbtSNap4roB+GGaF6ZNjJuQIiSq+H5CiplxaRLjGuBk63BUTOYAFw32gmYnnzGXGVD2ZtDgrulgibEv8EpeEakobEFuSq6v/cVgh5L5uYWjYjGMBv/PjRLjR8gljmp9U6jzVLveoeSrwF99RKSisRF5rPFF3dJ6I8ZcX9GoaHRRUxKqdsQYh1S9Ve1nMzCK8jOV2hHjMu/hqFh0ArMqf6keMbqQpXLbBQhKxeEvyKy7ASPGOWhStLseZPHTgMSYVf+1qo0kwAmVb0Cy5OvBwlExORy2JcaMgIGouBwOjKgkRpQrrlUQncCEBBhB+UxUqbKJCbIYqCt0JCoqByfIImKlqu2R0D51KFR6wxNkR0Glqo1M8LupnCqGzoRtZQmUqiglRFhjUgVXSoivqo4KryOhdbZ7UO70J+RcskcV0sYEWBM6ChWdzQkF2J9LebcyAVYhK5KUqngxAdaiSxHVQMsrl6qF3H9c5WI98GYlMRaEjERFZTGwqZIYrwF/CxiMiscCGHjX8w+BAlHx6AMehIGJMQ+9Oml3d1BnieJm4LYg4ahYXFP5pnZR827ondB29TBVtdZqn6yuBX7lNRwVg01IvbUv1CuckiCFU77iKSgV3lnA/dU/qDcXo5/225OsnS2kJimg8SSdXuA3uYajYvAeDQaBZnU+e4ED3cejIrAV+CYNLjaaTeubjuzTpVrPdAa5Am2WGH3lDvTGV+vYimxNNugGN2kmAr8FHE/GjVBUlN4HvkOKXY/SzhB/Dqmb8KFFUCqsO5EdqV5P8+IsSweWlzu+xyAoFc4y4EJkM8PUE79N90SbgpR+nGbSWHnRD3wP2YAoM9tdFC8BrrLpQOXmCmSrMiMu9l2dh5SCVHEZC/zDtLGL5Ylz0YXRMbKqkuQiMdYD/3bQj3LrbJvGLg4lw4HVaB2v2JSAA4B3TRq7GDFGAzs66Ee51QH81rSxi8Q4Gl0xH6spwGEmDV0khtYgj9vs5i/5f7bnGIcAT9p0oHL3H+BrZCx3YTtipN4rXAWzA3JIycQ2MaZatld+jMnawCYxDkRLQRZF5urPNomhhemLI3P1Z5vEGGvRVvmV+eajTWKMs2ir/BqatYFpYnSgNciLpD9rA9PEGAbsadhW+Zf5ZpVpYgzFYHhSwWSe5a/lottD5nrxponxX8N2KoxVWRuYJsYWZN2jKoa1WRuYJkYJXWNSJKnWklSzOccwmhmkvFsHrMjayCYxlli0Vf704vFyFeBFi7bKn0dNGtkkxgcYHLuUd0+YNLK9j6HrWOP2NPCxSUPbxLjLsr3K192mDW0T4xPgIcs+VD4+Bh4wbezilvjPHfSh3LsWqfZsxMVKNJBS0zNddKSc2ADshUUVJFcP0S5FFzbH5HIsS2O5Sox1wBxHfSk7bwC32Hbi6lBS8Sww2WWHKrPJONgZ0/V8jOPRuqAhXY6j7VJdJ8anwCmO+1TpzMfhzhGuDyUV04H78uhY1bUCmOSyw7ym9j0KnJZT32qgVcCRrjvNc87nQ8DpOfavZBbdVOS+hVN5HUqqTUUetsVeiumPSDL/ExgFHEPc50vPAWcAH+XRuY/EALkLdzdSEyo2a5BylC/U+d1BwE1Aj9eImrsVKe6aG1+JUfFr4Fyfb9jESqRGet8gr9kJ+D1yKR7aJuBiPDzV9r2u5CLkvMNojoBjS4FDGTwpKP/+ZOBEwk5nXIhceXiZ6hBiwdGDyM46NxDu+cr1yPYMWcoPLQKOAL6PFNz3ZSlyhXcqsq2EF74PJbV6kMr4ZwFDPLzfYuBK4CUHfU0DfoAkSx6eR7ZVN55sYyN0YlSMQT4VM4F9HfddQqa43Ug+k4rGIucpRyOlE3ex6Ost4HHgEeqfDHsTS2JUm4bcsDkMuYoxWTzdh3zieoE/ISeZPowA9kP2dRmPVMsbBXQjI2KCJOpnyGFhTfnPZcghY5mnOJuKMTGqjQYmlr8mATsjVwlDkJoPCbJcckP5qxc5/r+G1DiPxe7A9kjcnyNzJWI4AW/of9ZK03bc0/5uAAAAAElFTkSuQmCC",Zs={name:"HeaderNavigation",data(){return{WebURL:"http://localhost:8080",currentIndex:0,images:["/static/img/navigation/banner1.jpg","/static/img/navigation/banner2.jpg","/static/img/navigation/banner3.jpg"],unreadCount:0,intervalId:null,currentUser:{userType:"",idCard:"",password:""}}},mounted(){this.startBackgroundRotation(),this.$refs.messageBox.countUnread()},beforeDestroy(){this.stopBackgroundRotation()},components:{Login:Ge,Sign:et,RouterLink:Ce,RouterView:Se,messagedrawer:ve},methods:{refreshPage(){this.currentUser.idCard="",this.currentUser.userType="",this.currentUser.password="",console.log("HeaderNavigarion refreshPage done"),this.$forceUpdate()},updateUserCard(t){this.currentUser.idCard=t,console.log("用户id更新完毕")},updateUserType(t){this.currentUser.userType=t,this.$forceUpdate(),console.log("用户类型更新完毕")},showLogin(){this.$refs.Login.openModal(this.currentUser.idCard,this.currentUser.userType)},showSign(){this.$refs.Sign.openModal()},startBackgroundRotation(){this.intervalId=setInterval(this.changeBackground,5e3)},stopBackgroundRotation(){clearInterval(this.intervalId)},changeBackground(){this.currentIndex=(this.currentIndex+1)%this.images.length;let t=document.getElementsByClassName("header-nav");for(let s=0;s<t.length;s++)t[s].style.transition="background-image 2s ease-in-out",t[s].style.backgroundImage="url("+this.images[this.currentIndex]+")"},changeBackgroundOnClick(){this.stopBackgroundRotation(),this.changeBackground(),this.startBackgroundRotation()},showSurroundImage(t){const s=document.querySelector(`.clickable-images a:nth-child(${t}) .Surround-image`);s&&(s.style.opacity=1,s.style.animation="spin 10s linear infinite")},hideSurroundImage(){document.querySelectorAll(".Surround-image").forEach(s=>{s.style.opacity=0,s.style.transform="rotate(0deg)"})},openMessageBox(){this.$refs.messageBox.openDrawer()},getUnreadCount(t){this.unreadCount=t},getClickableImages(){switch(this.currentUser.userType){case"医生":return[{link:"/MedicineA",icon:"/static/img/navigation/list1_2.png",alt:"Image 2"},{link:"/PresA",icon:"/static/img/navigation/list1_5.png",alt:"Image 5"},{link:"/Prescription",icon:"/static/img/navigation/list1_3.png",alt:"Image 3"}];case"普通用户":return[{link:"/AppointmentRegistration",icon:"/static/img/navigation/list1_1.png",alt:"Image1"},{link:"/MedicineA",icon:"/static/img/navigation/list1_2.png",alt:"Image 2"},{link:"/PresA",icon:"/static/img/navigation/list1_5.png",alt:"Image 5"},{link:"/Bill",icon:"/static/img/navigation/list1_4.png",alt:"Image 4"}];case"管理员":return[{link:"/MedicineA",icon:"/static/img/navigation/list1_2.png",alt:"Image 2"},{link:"/PresA",icon:"/static/img/navigation/list1_5.png",alt:"Image 5"},{link:"/Prescription",icon:"/static/img/navigation/list1_3.png",alt:"Image 3"}];default:return[{link:"/AppointmentRegistration",icon:"/static/img/navigation/list1_1.png",alt:"Image1"},{link:"/PatientA",icon:"/static/img/navigation/list1_2.png",alt:"Image 2"},{link:"/PresA",icon:"/static/img/navigation/list1_5.png",alt:"Image 5"},{link:"/Bill",icon:"/static/img/navigation/list1_4.png",alt:"Image 4"}]}}}},Ws={class:"clickable-images"},Qs=["src","alt"],Xs=e("img",{class:"Surround-image",src:Ks,alt:"Surround Image"},null,-1);function eo(t,s,d,p,n,i){const f=r("messagedrawer"),c=r("Login"),a=r("Sign"),h=r("RouterLink"),b=r("el-badge"),k=r("el-header"),y=r("RouterView");return u(),_("div",null,[o(f,{ref:"messageBox",class:"messageBox","onUpdate:result":i.getUnreadCount},null,8,["onUpdate:result"]),o(c,{"onUpdate:refresh":i.refreshPage,"onUpdate:currentUserCard":i.updateUserCard,"onUpdate:currentUserType":i.updateUserType,ref:"Login"},null,8,["onUpdate:refresh","onUpdate:currentUserCard","onUpdate:currentUserType"]),o(a,{ref:"Sign"},null,512),o(k,{class:"header-nav",onClick:i.changeBackgroundOnClick},{default:l(()=>[e("nav",null,[o(h,{to:"/Main"},{default:l(()=>[v("首页")]),_:1}),e("a",{href:"#unknown",onClick:s[0]||(s[0]=g=>i.showLogin())},"登录"),e("a",{onClick:s[1]||(s[1]=(...g)=>i.openMessageBox&&i.openMessageBox(...g))},"消息"),n.unreadCount!==0?(u(),P(b,{key:0,value:n.unreadCount,class:"item"},null,8,["value"])):w("",!0),e("a",{href:"#unknown",onClick:s[2]||(s[2]=g=>i.showSign())},"系统介绍")]),e("div",Ws,[(u(!0),_(x,null,T(i.getClickableImages(),(g,$)=>(u(),P(h,{to:g.link,class:"image-link",onMouseover:V=>i.showSurroundImage($+1),onMouseleave:s[3]||(s[3]=V=>i.hideSurroundImage())},{default:l(()=>[e("img",{class:"designed-icon",src:g.icon,alt:g.alt},null,8,Qs),Xs]),_:2},1032,["to","onMouseover"]))),256))])]),_:1},8,["onClick"]),o(y)])}const to=C(Zs,[["render",eo]]),no="/static/jpg/3-BllZ-oxG.jpg",so="/static/png/subtitle-PaPH0dqX.png",oo="/static/png/logo-DojoiSmJ.png",io={},ao=e("div",{class:"flowing-background"},null,-1),lo=e("img",{src:no,class:"bg"},null,-1),ro=e("img",{src:so,class:"subtitle"},null,-1),co=e("img",{src:oo,class:"logo",alt:"Logo"},null,-1),uo=e("div",{class:"zqssquare1"},null,-1),mo=e("div",{class:"zqssquare2"},null,-1),po=e("div",{class:"zqssquare3"},null,-1),_o=e("div",{class:"zqssquare4"},null,-1);function ho(t,s){const d=r("el-header"),p=r("el-container"),n=r("el-footer");return u(),_(x,null,[o(p,{style:{height:"88vh"}},{default:l(()=>[ao,o(d,{class:"Header"},{default:l(()=>[lo,ro,co,uo,mo,po,_o]),_:1})]),_:1}),o(n,{height:"30px",align:"center",class:"footer"},{default:l(()=>[v("SE_GROUP_6")]),_:1})],64)}const fo=C(io,[["render",ho]]),vo={name:"DetailB",data(){return{isVisible:!1,form:{office:"",time:"",patient:"",doctor:"",medicine:[{name:"金莲花软件囊",time:3,cnt:1,use:"口服",price:""}]}}},methods:{openModal(t){this.isVisible=!0,document.body.style.overflow="hidden",this.form.office=t.office,this.form.time=t.time,this.form.doctor=t.doctor,this.form.patient=t.patient,this.form.medicine=t.medicine},closeModal(){this.isVisible=!1,document.body.style.overflow=""}}},se=t=>(M("data-v-cf8e562e"),t=t(),q(),t),go={key:0,class:"modal-background"},yo={class:"modal-container"},bo={class:"content"},ko=se(()=>e("h3",null,"处方明细",-1)),xo=["index"],$o={style:{"margin-left":"15px"}},wo={style:{"font-size":"smaller","margin-left":"15px"}},Co={class:"line"},So=se(()=>e("p",{style:{"margin-left":"15px"}},"疗程：",-1)),Do={class:"line"},To=se(()=>e("p",{style:{"margin-left":"15px"}},"数量：",-1)),Mo={class:"line"},qo=se(()=>e("p",{style:{"margin-left":"15px"}},"使用方法：",-1)),Ao=se(()=>e("div",{class:"m"},null,-1)),Vo={class:"button"};function Io(t,s,d,p,n,i){const f=r("el-divider"),c=r("el-button");return n.isVisible?(u(),_("div",go,[e("div",yo,[e("div",bo,[ko,(u(!0),_(x,null,T(n.form.medicine,a=>(u(),_("div",{index:a,class:"card"},[e("p",$o,m(a.name),1),e("p",wo,"单价："+m(a.price),1),o(f,{class:"divider"}),e("div",Co,[So,e("p",null,m(a.time),1)]),e("div",Do,[To,e("p",null,m(a.cnt),1)]),e("div",Mo,[qo,e("p",null,m(a.use),1)]),Ao],8,xo))),256))]),e("div",Vo,[o(c,{onClick:i.closeModal},{default:l(()=>[v("退出")]),_:1},8,["onClick"])])])])):w("",!0)}const Po=C(vo,[["render",Io],["__scopeId","data-v-cf8e562e"]]),Bo={name:"PHistory",props:{filterInfo:{type:Array,required:!0}},data(){return{info:[{office:"心血管门诊",time:"2024-05-14 下午 14:10-14:20",patient:"buaa",doctor:"",advice:"心跳过快",medicine:[{name:"金莲花软件囊",time:3,cnt:1,use:"口服",fre:"Tid",price:"5.98"},{name:"复方鲜竹沥液",time:3,cnt:2,use:"口服",fre:"Tid",price:1.09},{name:"复方鲜竹沥液",time:3,cnt:2,use:"口服",fre:"Tid",price:1.09}]}]}},components:{DetailB:Po},methods:{showPrescriptionDetails(t){this.$refs.detail.openModal(t)}}},ce=t=>(M("data-v-0949fcab"),t=t(),q(),t),Uo={class:"container"},Ro={class:"card-container"},Lo={class:"header"},Fo={class:"row"},jo={class:"row1"},No=ce(()=>e("p",{style:{"margin-right":"10px","font-weight":"600"}},"门诊号",-1)),Ho={style:{"font-size":"small"}},zo={style:{"font-size":"small"}},Eo={style:{"font-size":"small"}},Oo={class:"content"},Yo={class:"line"},Go=ce(()=>e("p",null,"诊断：",-1)),Jo=ce(()=>e("div",{class:"button"},null,-1));function Ko(t,s,d,p,n,i){const f=r("DetailB"),c=r("el-divider"),a=r("el-button"),h=r("el-card"),b=r("el-footer");return u(),_(x,null,[o(f,{ref:"detail"},null,512),e("div",Uo,[e("div",Ro,[(u(!0),_(x,null,T(d.filterInfo,k=>(u(),P(h,{key:k,style:{width:"30%","min-height":"00px",margin:"1.6%"}},{default:l(()=>[e("div",Lo,[e("div",Fo,[e("div",jo,[No,e("p",null,m(k.office),1)]),e("div",Ho,[e("p",null,m(k.time),1)]),e("div",zo,[e("p",null,"患者："+m(k.patient),1)]),e("div",Eo,[e("p",null,"医生："+m(k.doctor),1)])])]),o(c,{class:"divider"}),e("div",Oo,[e("div",Yo,[Go,e("p",null,m(k.advice),1),o(a,{type:"primary",plain:"",onClick:y=>i.showPrescriptionDetails(k),class:"xiang"},{default:l(()=>[v("展开处方")]),_:2},1032,["onClick"])])]),Jo]),_:2},1024))),128))]),o(b,{height:"30px",align:"center",class:"footer"},{default:l(()=>[v("SE_GROUP_6")]),_:1})])],64)}const Zo=C(Bo,[["render",Ko],["__scopeId","data-v-0949fcab"]]),Wo=t=>(M("data-v-8eaa3bea"),t=t(),q(),t),Qo={class:"all-container",width:"100%"},Xo={class:"search-container"},ei=Wo(()=>e("div",{class:"wenzi"},[e("p",{class:"guahao"},"处方查询"),e("p",{class:"back"},"首页 > 处方查询")],-1)),ti={class:"input-container"},ni={class:"chaxun"},si={__name:"PresA",setup(t){const{proxy:s}=oe(),d=()=>new Promise((f,c)=>{axios.post("/api/treatments/list/",{identity_num:s.appContext.config.globalProperties.$identity_num}).then(a=>{n.value=a.data.treatments,console.log("Treatments data fetched:",n.value),f()}).catch(a=>{console.error("Error fetching treatments data:",a),c(a)})}),p=B(""),n=B([]),i=W(()=>n.value.filter(f=>/^\d/.test(p.value)?f.time.split(" ")[0]===p.value:p.value?f.office===p.value:!0));return ne(()=>{d().then(()=>{})}),(f,c)=>{const a=r("el-divider"),h=r("search"),b=r("el-icon"),k=r("el-input"),y=r("el-button"),g=r("scroll"),$=r("el-container");return u(),P($,{style:{height:"100vh"}},{default:l(()=>[o(g,null,{default:l(()=>[e("div",Qo,[e("div",Xo,[ei,o(a,{class:"divider"})]),o(fe),e("div",ti,[e("div",ni,[o(k,{modelValue:p.value,"onUpdate:modelValue":c[0]||(c[0]=V=>p.value=V),style:{width:"300px",height:"40px"},placeholder:"请输入就诊日期(例:2024-05-09) 或 科室",class:"shuru"},{prefix:l(()=>[o(b,{class:"el-input__icon"},{default:l(()=>[o(h)]),_:1})]),_:1},8,["modelValue"]),o(y,{color:"#DBA979",dark:f.isDark,plain:"",class:"searchButton",style:{width:"80px",height:"40px"}},{default:l(()=>[v("查询")]),_:1},8,["dark"]),e("p",null,m(p.value),1)])]),o(Zo,{filterInfo:i.value},null,8,["filterInfo"])])]),_:1})]),_:1})}}},oi=C(si,[["__scopeId","data-v-8eaa3bea"]]),ii={name:"DetailC",data(){return{fileList:B([{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]),isVisible:!1,sign:"",inputName:"",radio:"",info:[{name:"",type:"",use:"",price:"",num:""}]}},methods:{handleSuccess(t,s,d){t.success?this.fileList.push({name:s.name,url:t.data.url}):console.error("文件上传失败:",t.message)},handleRemove(t,s){console.log(t,s)},handlePreview(t){console.log(t)},openModal(t,s){this.isVisible=!0,document.body.style.overflow="hidden",this.info.name=t.name,t.type==="中药"?this.radio=3:t.type==="中成药"?this.radio=6:this.radio=9,this.info.use=t.use,this.info.price=t.price,this.info.num=t.num,this.sign=s,console.log(`传入的sign是：${this.sign}`)},closeModal(){this.isVisible=!1,document.body.style.overflow=""}}},Y=t=>(M("data-v-144d09a5"),t=t(),q(),t),ai={key:0,class:"modal-background"},li={class:"modal-container"},ri={class:"content"},ci=Y(()=>e("h3",null,"添加药品",-1)),di={class:"upload"},ui=Y(()=>e("p",{style:{"margin-bottom":"20px","font-size":"14px","font-weight":"500",color:"grey"}}," 点击导入本地药物图片 ",-1)),mi=Y(()=>e("div",{class:"el-upload__tip"},"jpg/png files with a size less than 500kb",-1)),pi={class:"line"},_i=Y(()=>e("p",{style:{"margin-left":"15px"}},"药品名：",-1)),hi={class:"line"},fi=Y(()=>e("p",{style:{"margin-left":"15px"}},"药品类型：",-1)),vi={class:"line"},gi=Y(()=>e("p",{style:{"margin-left":"15px"}},"价格：",-1)),yi={class:"line"},bi=Y(()=>e("p",{style:{"margin-left":"15px"}},"库存：",-1)),ki={class:"line"},xi=Y(()=>e("p",{style:{"margin-left":"15px"}},"适应症状：",-1)),$i={class:"button"};function wi(t,s,d,p,n,i){const f=r("el-button"),c=r("el-upload"),a=r("el-divider"),h=r("el-input"),b=r("el-radio"),k=r("el-radio-group");return n.isVisible?(u(),_("div",ai,[e("div",li,[e("div",ri,[ci,e("div",di,[ui,o(c,{"file-list":n.fileList,"onUpdate:fileList":s[0]||(s[0]=y=>n.fileList=y),class:"upload-demo",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","on-preview":i.handlePreview,"on-remove":i.handleRemove,"on-success":i.handleSuccess,"list-type":"picture"},{tip:l(()=>[mi]),default:l(()=>[o(f,{type:"primary"},{default:l(()=>[v("Click to upload")]),_:1})]),_:1},8,["file-list","on-preview","on-remove","on-success"])]),o(a),e("div",pi,[_i,o(h,{modelValue:n.info.name,"onUpdate:modelValue":s[1]||(s[1]=y=>n.info.name=y),style:{width:"240px"},placeholder:"请输入药品名称",clearable:""},null,8,["modelValue"])]),e("div",hi,[fi,o(k,{modelValue:n.radio,"onUpdate:modelValue":s[2]||(s[2]=y=>n.radio=y)},{default:l(()=>[o(b,{value:3},{default:l(()=>[v("中药")]),_:1}),o(b,{value:6},{default:l(()=>[v("中成药")]),_:1}),o(b,{value:9},{default:l(()=>[v("西药")]),_:1})]),_:1},8,["modelValue"])]),e("div",vi,[gi,o(h,{modelValue:n.info.price,"onUpdate:modelValue":s[3]||(s[3]=y=>n.info.price=y),style:{width:"240px"},placeholder:"请输入单价",clearable:""},null,8,["modelValue"])]),e("div",yi,[bi,o(h,{modelValue:n.info.num,"onUpdate:modelValue":s[4]||(s[4]=y=>n.info.num=y),style:{width:"240px"},placeholder:"请输入库存",clearable:""},null,8,["modelValue"])]),e("div",ki,[xi,o(h,{modelValue:n.info.use,"onUpdate:modelValue":s[5]||(s[5]=y=>n.info.use=y),style:{width:"240px"},placeholder:"用逗号分隔(例如：感冒，头痛)",type:"textarea",clearable:""},null,8,["modelValue"])])]),e("div",$i,[o(f,{onClick:i.closeModal,plain:""},{default:l(()=>[v("取消")]),_:1},8,["onClick"]),o(f,{onClick:i.closeModal,type:"primary"},{default:l(()=>[v("确定")]),_:1},8,["onClick"])])])])):w("",!0)}const Ci=C(ii,[["render",wi],["__scopeId","data-v-144d09a5"]]),de=t=>(M("data-v-08df2dfc"),t=t(),q(),t),Si={class:"container"},Di={class:"m"},Ti=de(()=>e("p",{style:{"margin-left":"50px","font-weight":"bold","margin-right":"10px"}},"首页",-1)),Mi=de(()=>e("p",{style:{"font-weight":"bold","margin-left":"10px"}},"药品管理",-1)),qi={class:"card-container"},Ai={class:"warn"},Vi={key:0},Ii={key:1,class:"warn"},Pi=de(()=>e("p",{style:{color:"red"}},"库存数量不足",-1)),Bi={__name:"MedicineA",setup(t){const s=B(null),d=B(""),p=(y,g)=>{s.value.openModal(y,g)},n=(y,g)=>{console.log("Delete row:",g)},i=B({total:0,currentPage:1,pageSize:9}),f=B([{name:"感冒冲剂",type:"中药",use:"感冒",price:"5.00",num:"10"}]),c=W(()=>d.value?f.value.filter(y=>y.name.includes(d.value)):f.value),a=()=>{i.value.total=c.value.length};me(d,()=>{a()});const h=()=>new Promise((y,g)=>{he.get("/api/medicine/list/").then($=>{f.value=$.data.medicine,i.value.total=f.value.length,console.log("Medicine data fetched:",f.value),y()}).catch($=>{console.error("Error fetching medicine data:",$),g($)})}),b=W(()=>{const y=(i.value.currentPage-1)*i.value.pageSize,g=y+i.value.pageSize;return c.value.slice(y,g)}),k=y=>{i.value.currentPage=y};return ne(()=>{h().then(()=>{a(),k(1)})}),(y,g)=>{const $=r("DArrowRight"),V=r("el-icon"),F=r("search"),S=r("el-input"),A=r("el-button"),D=r("el-table-column"),X=r("WarningFilled"),ae=r("el-table"),le=r("el-pagination"),E=r("el-card"),re=r("el-footer");return u(),_(x,null,[o(Ci,{ref_key:"detail",ref:s},null,512),e("div",Si,[e("div",Di,[Ti,o(V,null,{default:l(()=>[o($)]),_:1}),Mi]),e("div",qi,[o(E,{style:{height:"660px",width:"95%"}},{default:l(()=>[o(S,{modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=N=>d.value=N),style:{width:"300px",height:"40px"},placeholder:"请输入药物名称",class:"shuru"},{prefix:l(()=>[o(V,{class:"el-input__icon"},{default:l(()=>[o(F)]),_:1})]),_:1},8,["modelValue"]),o(A,{type:"primary",plain:"",style:{height:"40px","margin-left":"10px"},onClick:g[1]||(g[1]=N=>p("","add"))},{default:l(()=>[v("+新建药物类型")]),_:1}),o(ae,{data:b.value,style:{width:"95%","max-height":"480px"}},{default:l(()=>[o(D,{prop:"name",label:"药物名称",width:"150"}),o(D,{prop:"type",label:"药物种类",width:"150"}),o(D,{prop:"price",label:"药物价格",width:"150"}),o(D,{prop:"num",label:"药物库存",width:"150"},{default:l(N=>[e("div",Ai,[N.row.num!=="0"?(u(),_("span",Vi,m(N.row.num),1)):(u(),_("span",Ii,[e("p",null,m(N.row.num),1),o(V,{style:{color:"red"}},{default:l(()=>[o(X)]),_:1}),Pi]))])]),_:1}),o(D,{prop:"use",label:"适应症状"}),o(D,{label:"操作"},{default:l(N=>[o(A,{size:"small",onClick:ke=>p(N.row,"alter")},{default:l(()=>[v(" 修改 ")]),_:2},1032,["onClick"]),o(A,{size:"small",type:"danger",onClick:ke=>n(N.$index,N.row),plain:""},{default:l(()=>[v(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(le,{class:"page","current-page":i.value.currentPage,"page-size":i.value.pageSize,total:i.value.total,"pager-count":3,background:"",layout:"prev, pager, next, total","onUpdate:currentPage":k},null,8,["current-page","page-size","total"])]),_:1})]),o(re,{height:"30px",align:"center",class:"footer"},{default:l(()=>[v("SE_GROUP_6")]),_:1})])],64)}}},ge=C(Bi,[["__scopeId","data-v-08df2dfc"]]),Ui={name:"DetailC",data(){return{fileList:B([{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]),isVisible:!1,sign:"",inputName:"",radio:"",info:[{name:"",office:"",title:"",cost:"",research:""}]}},methods:{handleSuccess(t,s,d){t.success?this.fileList.push({name:s.name,url:t.data.url}):console.error("文件上传失败:",t.message)},handleRemove(t,s){console.log(t,s)},handlePreview(t){console.log(t)},openModal(t,s){this.isVisible=!0,document.body.style.overflow="hidden",this.info.name=t.name,this.info.office=t.office,this.info.title=t.title,this.info.cost=t.cost,this.info.research=t.research,this.sign=s},closeModal(){this.isVisible=!1,document.body.style.overflow=""}}},Q=t=>(M("data-v-3cc697bd"),t=t(),q(),t),Ri={key:0,class:"modal-background"},Li={class:"modal-container"},Fi={class:"content"},ji=Q(()=>e("h3",null,"录入医生",-1)),Ni={class:"line"},Hi=Q(()=>e("p",{style:{"margin-left":"15px"}},"姓名：",-1)),zi={class:"line"},Ei=Q(()=>e("p",{style:{"margin-left":"15px"}},"科室：",-1)),Oi={class:"line"},Yi=Q(()=>e("p",{style:{"margin-left":"15px"}},"职称：",-1)),Gi={class:"line"},Ji=Q(()=>e("p",{style:{"margin-left":"15px"}},"出诊费：",-1)),Ki={class:"line"},Zi=Q(()=>e("p",{style:{"margin-left":"15px"}},"主要研究方向：",-1)),Wi={class:"button"};function Qi(t,s,d,p,n,i){const f=r("el-input"),c=r("el-button");return n.isVisible?(u(),_("div",Ri,[e("div",Li,[e("div",Fi,[ji,e("div",Ni,[Hi,o(f,{modelValue:n.info.name,"onUpdate:modelValue":s[0]||(s[0]=a=>n.info.name=a),style:{width:"240px"},placeholder:"请输入医生姓名",clearable:""},null,8,["modelValue"])]),e("div",zi,[Ei,o(f,{modelValue:n.info.office,"onUpdate:modelValue":s[1]||(s[1]=a=>n.info.office=a),style:{width:"240px"},placeholder:"请输入工作科室",clearable:""},null,8,["modelValue"])]),e("div",Oi,[Yi,o(f,{modelValue:n.info.title,"onUpdate:modelValue":s[2]||(s[2]=a=>n.info.title=a),style:{width:"240px"},placeholder:"请输入职称",clearable:""},null,8,["modelValue"])]),e("div",Gi,[Ji,o(f,{modelValue:n.info.cost,"onUpdate:modelValue":s[3]||(s[3]=a=>n.info.cost=a),style:{width:"240px"},placeholder:"请输入单次出诊费",clearable:""},null,8,["modelValue"])]),e("div",Ki,[Zi,o(f,{modelValue:n.info.research,"onUpdate:modelValue":s[4]||(s[4]=a=>n.info.research=a),style:{width:"240px"},placeholder:"用逗号分隔(例如：病理学，生物医学)",type:"textarea",clearable:""},null,8,["modelValue"])])]),e("div",Wi,[o(c,{onClick:i.closeModal,plain:""},{default:l(()=>[v("取消")]),_:1},8,["onClick"]),o(c,{onClick:i.closeModal,type:"primary"},{default:l(()=>[v("确定")]),_:1},8,["onClick"])])])])):w("",!0)}const Xi=C(Ui,[["render",Qi],["__scopeId","data-v-3cc697bd"]]),ye=t=>(M("data-v-77a61616"),t=t(),q(),t),ea={class:"container"},ta={class:"m"},na=ye(()=>e("p",{style:{"margin-left":"50px","font-weight":"bold","margin-right":"10px"}},"首页",-1)),sa=ye(()=>e("p",{style:{"font-weight":"bold","margin-left":"10px"}},"医生管理",-1)),oa={class:"card-container"},ia={__name:"DoctorA",setup(t){const s=B(null),d=B(""),p=(k,y)=>{s.value.openModal(k,y)},n=(k,y)=>{console.log("Delete row:",y)},i=B({total:0,currentPage:1,pageSize:9}),f=B([{name:"王秋",office:"心血管内科",title:"副主任医师",cost:"10.00",research:"生物医学工程"}]),c=W(()=>d.value?f.value.filter(k=>k.name.includes(d.value)):f.value),a=()=>{i.value.total=c.value.length};me(d,()=>{a()});const h=W(()=>{const k=(i.value.currentPage-1)*i.value.pageSize,y=k+i.value.pageSize;return c.value.slice(k,y)}),b=k=>{i.value.currentPage=k};return ne(()=>{a(),b(1)}),(k,y)=>{const g=r("DArrowRight"),$=r("el-icon"),V=r("search"),F=r("el-input"),S=r("el-button"),A=r("el-table-column"),D=r("el-table"),X=r("el-pagination"),ae=r("el-card"),le=r("el-footer");return u(),_(x,null,[o(Xi,{ref_key:"detail",ref:s},null,512),e("div",ea,[e("div",ta,[na,o($,null,{default:l(()=>[o(g)]),_:1}),sa]),e("div",oa,[o(ae,{style:{height:"660px",width:"95%"}},{default:l(()=>[o(F,{modelValue:d.value,"onUpdate:modelValue":y[0]||(y[0]=E=>d.value=E),style:{width:"300px",height:"40px"},placeholder:"请输入医生姓名",class:"shuru"},{prefix:l(()=>[o($,{class:"el-input__icon"},{default:l(()=>[o(V)]),_:1})]),_:1},8,["modelValue"]),o(S,{type:"primary",plain:"",style:{height:"40px","margin-left":"10px"},onClick:y[1]||(y[1]=E=>p("","add"))},{default:l(()=>[v("+录入医生")]),_:1}),o(D,{data:h.value,style:{width:"95%","max-height":"480px"}},{default:l(()=>[o(A,{prop:"name",label:"姓名",width:"150"}),o(A,{prop:"office",label:"科室",width:"150"}),o(A,{prop:"title",label:"职称",width:"150"}),o(A,{prop:"cost",label:"出诊费",width:"150"}),o(A,{prop:"research",label:"主要研究方向"}),o(A,{label:"操作"},{default:l(E=>[o(S,{size:"small",onClick:re=>p(E.row,"alter")},{default:l(()=>[v(" 修改 ")]),_:2},1032,["onClick"]),o(S,{size:"small",type:"danger",onClick:re=>n(E.$index,E.row),plain:""},{default:l(()=>[v(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(X,{class:"page","current-page":i.value.currentPage,"page-size":i.value.pageSize,total:i.value.total,"pager-count":3,background:"",layout:"prev, pager, next, total","onUpdate:currentPage":b},null,8,["current-page","page-size","total"])]),_:1})]),o(le,{height:"30px",align:"center",class:"footer"},{default:l(()=>[v("SE_GROUP_6")]),_:1})])],64)}}},aa=C(ia,[["__scopeId","data-v-77a61616"]]),la={class:"container"},ra=xe({__name:"PharmaCist",setup(t){const s=B("first"),d=(p,n)=>{console.log(p,n)};return(p,n)=>{const i=r("el-tab-pane"),f=r("el-tabs");return u(),_("div",la,[o(f,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=c=>s.value=c),class:"demo-tabs",onTabClick:d},{default:l(()=>[o(i,{label:"药物录入",name:"first"},{default:l(()=>[o(ge)]),_:1}),o(i,{label:"医生录入",name:"second"},{default:l(()=>[o(aa)]),_:1})]),_:1},8,["modelValue"])])}}}),ca={data(){return{squares:[{hovered:!1},{hovered:!0},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","医生查询"],checked:!1,currentSquareIndex:0,squares2:[{hovered:!1,active:!0},{hovered:!1,active:!1},{hovered:!1,active:!1},{hovered:!1,active:!1},{hovered:!1,active:!1},{hovered:!1,active:!1},{hovered:!1,active:!1},{hovered:!1,active:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],link:["/TableSearch","/AppointmentRegistration","/AppointmentRegistration","/DoctorSearch"]}},methods:{toggleSquare(t){this.currentSquareIndex=t,this.currentSquareIndex=1,this.checked=!1},nextSquare(){}}},da=t=>(M("data-v-8f09f77a"),t=t(),q(),t),ua={class:"containerlyh",style:{display:"flex","justify-content":"center","align-items":"center",height:"180px"}},ma={class:"container2",style:{display:"flex","justify-content":"center","align-items":"center"}},pa=["onMouseover","onMouseout","onClick"],_a=te('<div class="notice-box" data-v-8f09f77a><h2 data-v-8f09f77a>温 馨 提 示</h2><p data-v-8f09f77a>尊敬的就诊者：</p><p data-v-8f09f77a>您好！我院门诊已实行就诊新流程，敬请注意如下事项：</p><p data-v-8f09f77a>一、进入院区请正确佩戴口罩。体温≥37.3℃者请到发热门诊就诊。急危重症患者请到急诊就诊。</p><p data-v-8f09f77a>二、按照医院整体改造施工计划，东川门诊4楼大部分区域开始围蔽改造。部分康复科及心中医门诊继续安排在4楼新区出诊，请留意指引标识或咨询现场导诊人员。</p><p data-v-8f09f77a>三、原板房门诊已关停。东川儿科、肝胆内科已分别搬到东川门诊3楼及5楼，东川心理精神科已搬到伟伦楼4楼继续开诊，请留意现场指引。</p><p data-v-8f09f77a>四、心外科、心儿科门诊已搬迁到东川门诊5楼开诊，请留意现场指引。</p><p data-v-8f09f77a>五、普通门诊预约后无需先缴诊查费，就诊后交费时一并收取诊查费。但若有欠费（注：看病或咨询后没有开药或开具检验/检查者，也需缴诊查费），在您补交欠费前，将无法预约下次门诊。</p><p data-v-8f09f77a>六、请于预约时段前10分钟到自助机或分诊台报到（初诊未实名、越秀区公医及省市直医保门特患者须到分诊台人工报到），请勿过早聚集在医院内候诊。如过时未报到，预约号会自动失效（详见预约手机短信或现场预约凭条内容指引）。</p><p data-v-8f09f77a>七、报到后请留意诊间门前叫号屏，可扫码查阅实时排序信息并候诊。</p><p data-v-8f09f77a>八、失约管理：累计失约次数超过3次，系统会自动暂停您线上预约挂号功能（但不影响现场挂号），需凭本人身份证明到挂号窗口办理恢复手续。</p><p data-v-8f09f77a>九、官网、官微、5G互联网医院、自助机、现场、电话、诊间预约挂号期限统一为14天。</p></div>',1),ha={class:"button-container"},fa={class:"checkbox-container",style:{"text-align":"center","margin-top":"20px"}},va=da(()=>e("label",{for:"checkbox"},"我已阅读并同意《个人隐私收集声明》",-1));function ga(t,s,d,p,n,i){const f=r("router-link");return u(),_(x,null,[e("div",ua,[(u(!0),_(x,null,T(n.squares,(c,a)=>(u(),P(f,{key:a,to:n.link[a],class:I(["square",{"square-hovered":c.hovered||a===1}]),onMouseover:h=>c.hovered=!0,onMouseout:h=>c.hovered=!1},{default:l(()=>[v(m(n.info[a]),1)]),_:2},1032,["to","class","onMouseover","onMouseout"]))),128))]),e("div",null,[e("div",ma,[(u(!0),_(x,null,T(n.squares2,(c,a)=>(u(),_("div",{key:a,class:I(["square2",{"square-active2":c.active}]),onMouseover:h=>c.hovered=!0,onMouseout:h=>c.hovered=!1,onClick:h=>i.toggleSquare(a)},m(n.info2[a]),43,pa))),128))])]),_a,e("div",null,[e("div",ha,[n.checked?(u(),P(f,{key:0,onClick:i.nextSquare,class:"router-button",to:"/AppointmentRegistration2"},{default:l(()=>[v(" 下一步 ")]),_:1},8,["onClick"])):w("",!0)]),e("div",fa,[R(e("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":s[0]||(s[0]=c=>n.checked=c)},null,512),[[pe,n.checked]]),va])])],64)}const ya=C(ca,[["render",ga],["__scopeId","data-v-8f09f77a"]]),ba={props:{squares2:{type:Array,required:!0}},data(){return{squares:[{hovered:!1},{hovered:!0},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","医生查询"],checked:!1,currentSquareIndex:0,info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],link:["/TableSearch","/AppointmentRegistration","/AppointmentRegistration","/DoctorSearch"]}},methods:{toggleSquare(t){this.currentSquareIndex=t,this.currentSquareIndex=1,this.checked=!1},nextSquare(){}}},ka={class:"containerlyh"},xa={class:"container2",style:{display:"flex","justify-content":"center","align-items":"center"}},$a=["onMouseover","onMouseout","onClick"];function wa(t,s,d,p,n,i){const f=r("router-link");return u(),_(x,null,[e("div",ka,[(u(!0),_(x,null,T(n.squares,(c,a)=>(u(),P(f,{key:a,to:n.link[a],class:I(["square",{"square-hovered":c.hovered||a===1}]),onMouseover:h=>c.hovered=!0,onMouseout:h=>c.hovered=!1},{default:l(()=>[v(m(n.info[a]),1)]),_:2},1032,["to","class","onMouseover","onMouseout"]))),128))]),e("div",null,[e("div",xa,[(u(!0),_(x,null,T(d.squares2,(c,a)=>(u(),_("div",{key:a,class:I(["square2",{"square-active2":c.active,"square-done":c.done}]),onMouseover:h=>c.hovered=!0,onMouseout:h=>c.hovered=!1,onClick:h=>i.toggleSquare(a)},m(n.info2[a]),43,$a))),128))])])],64)}const J=C(ba,[["render",wa],["__scopeId","data-v-7b417029"]]),Ca={components:{Header:J},data(){return{squares:[{hovered:!1},{hovered:!0},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","取消预约"],checked:!1,selected:-1,currentSquareIndex:0,squares2:[{hovered:!1,active:!1,done:!0},{hovered:!1,active:!0,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],squares3:[{hovered:!1,active:!1},{hovered:!1,active:!1}],treat:["首诊","复诊"]}},methods:{toggleSquare(t){this.currentSquareIndex=t,this.currentSquareIndex=1,this.checked=!1},nextSquare(){},clickbutton(t){this.checked=!0,this.selected=t}}},Sa={class:"notice-box",style:{height:"400px"}},Da={class:"container2"},Ta={class:"container",style:{display:"flex","justify-content":"center","align-items":"center",height:"180px"}},Ma=["onMouseover","onMouseout","onClick"];function qa(t,s,d,p,n,i){const f=r("Header"),c=r("router-link");return u(),_(x,null,[o(f,{squares2:n.squares2},null,8,["squares2"]),e("div",Sa,[e("div",Da,[o(c,{to:"/AppointmentRegistration",class:"button2 button-prev"},{default:l(()=>[v("上一步")]),_:1}),n.checked?(u(),P(c,{key:0,to:{path:"/AppointmentRegistration3",query:{select:n.selected}},class:"button2 button-next"},{default:l(()=>[v("下一步")]),_:1},8,["to"])):w("",!0)]),e("div",Ta,[(u(!0),_(x,null,T(n.squares3,(a,h)=>(u(),_("div",{key:h,class:I(["square3",{"square3-hovered":a.hovered||h==n.selected}]),onMouseover:b=>a.hovered=!0,onMouseout:b=>a.hovered=!1,onClick:b=>i.clickbutton(h)},m(n.treat[h]),43,Ma))),128))])])],64)}const Aa=C(Ca,[["render",qa],["__scopeId","data-v-5547f53c"]]),Va={components:{Header:J},data(){return{squares:[{hovered:!1},{hovered:!0},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","取消预约"],checked:!1,currentSquareIndex:0,squares2:[{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!0,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],first:0,second:0,formData:{queryFirst:0,name:"",paymentType:"",gender:"",birthday:"",idType:"",phone:"",number:"",addr:""}}},methods:{toggleSquare(t){this.currentSquareIndex=t,this.currentSquareIndex=1,this.checked=!1},nextSquare(){},submitForm(){console.log(this.form)},submitForm2(){console.log(this.form2)}},created(){this.$route.query.select==0?(this.first=1,this.formData.queryFirst=1):this.second=1}},K=t=>(M("data-v-e695a2cc"),t=t(),q(),t),Ia={class:"notice-box"},Pa={class:"container2",style:{"margin-bottom":"50px"}},Ba={key:0,class:"container3"},Ua={class:"form-group"},Ra=K(()=>e("option",{value:"医保"},"医保",-1)),La=K(()=>e("option",{value:"非医保"},"非医保",-1)),Fa=[Ra,La],ja={class:"form-group"},Na=K(()=>e("option",{value:"男"},"男",-1)),Ha=K(()=>e("option",{value:"女"},"女",-1)),za=[Na,Ha],Ea={class:"form-group"},Oa=te('<option value="身份证" data-v-e695a2cc>身份证</option><option value="医保卡" data-v-e695a2cc>医保卡</option><option value="诊疗卡" data-v-e695a2cc>诊疗卡</option><option value="护照" data-v-e695a2cc>护照</option><option value="军官证" data-v-e695a2cc>军官证</option><option value="港澳通行证" data-v-e695a2cc>港澳通行证</option>',6),Ya=[Oa],Ga={class:"form-group"},Ja={class:"form-group"},Ka={key:1,class:"container3"},Za={class:"form-group"},Wa=K(()=>e("option",{value:"男"},"男",-1)),Qa=K(()=>e("option",{value:"女"},"女",-1)),Xa=[Wa,Qa],el={class:"form-group"},tl=te('<option value="身份证" data-v-e695a2cc>身份证</option><option value="医保卡" data-v-e695a2cc>医保卡</option><option value="诊疗卡" data-v-e695a2cc>诊疗卡</option><option value="护照" data-v-e695a2cc>护照</option><option value="军官证" data-v-e695a2cc>军官证</option><option value="港澳通行证" data-v-e695a2cc>港澳通行证</option>',6),nl=[tl],sl={class:"form-group"},ol={class:"checkbox-container",style:{"text-align":"center","margin-top":"20px"}},il=K(()=>e("label",{for:"checkbox"},"我已阅读并同意《个人隐私收集声明》",-1));function al(t,s,d,p,n,i){const f=r("Header"),c=r("router-link");return u(),_(x,null,[o(f,{squares2:n.squares2},null,8,["squares2"]),e("div",Ia,[e("div",Pa,[o(c,{to:"/AppointmentRegistration2",class:"button2 button-prev"},{default:l(()=>[v("上一步")]),_:1}),o(c,{to:{path:"/AppointmentRegistration4",query:{name:n.formData.name,paymentType:n.formData.paymentType}},class:"button2 button-next"},{default:l(()=>[v(" 下一步 ")]),_:1},8,["to"])]),n.first?(u(),_("div",Ba,[e("form",{onSubmit:s[8]||(s[8]=ue((...a)=>i.submitForm&&i.submitForm(...a),["prevent"]))},[e("div",Ua,[R(e("input",{type:"text",id:"name",name:"name",class:"form-control",placeholder:"请输入姓名","onUpdate:modelValue":s[0]||(s[0]=a=>n.formData.name=a)},null,512),[[O,n.formData.name]]),R(e("select",{id:"paymentType",name:"paymentType",class:"form-control",placeholder:"支付类型","onUpdate:modelValue":s[1]||(s[1]=a=>n.formData.paymentType=a)},Fa,512),[[ee,n.formData.paymentType]])]),e("div",ja,[R(e("select",{id:"gender",name:"gender",class:"form-control",placeholder:"性别","onUpdate:modelValue":s[2]||(s[2]=a=>n.formData.gender=a)},za,512),[[ee,n.formData.gender]]),R(e("input",{type:"date",id:"birthday",name:"birthday",class:"form-control",placeholder:"出生日期","onUpdate:modelValue":s[3]||(s[3]=a=>n.formData.birthday=a)},null,512),[[O,n.formData.birthday]])]),e("div",Ea,[R(e("select",{id:"idType",name:"idType",class:"form-control",placeholder:"证件类型","onUpdate:modelValue":s[4]||(s[4]=a=>n.formData.idType=a)},Ya,512),[[ee,n.formData.idType]]),R(e("input",{type:"tel",id:"phone",name:"phone",class:"form-control",placeholder:"联系电话","onUpdate:modelValue":s[5]||(s[5]=a=>n.formData.phone=a)},null,512),[[O,n.formData.phone]])]),e("div",Ga,[R(e("input",{type:"text",id:"number",name:"number",class:"form-control",placeholder:"请输入证件号","onUpdate:modelValue":s[6]||(s[6]=a=>n.formData.number=a)},null,512),[[O,n.formData.number]])]),e("div",Ja,[R(e("input",{type:"text",id:"addr",name:"addr",class:"form-control",placeholder:"请输入住址","onUpdate:modelValue":s[7]||(s[7]=a=>n.formData.addr=a)},null,512),[[O,n.formData.addr]])])],32)])):w("",!0),n.second?(u(),_("div",Ka,[e("form",{onSubmit2:s[14]||(s[14]=ue((...a)=>i.submitForm2&&i.submitForm2(...a),["prevent"]))},[e("div",Za,[R(e("input",{type:"text",id:"name",name:"name",class:"form-control",placeholder:"请输入姓名","onUpdate:modelValue":s[9]||(s[9]=a=>n.formData.name=a)},null,512),[[O,n.formData.name]]),R(e("select",{id:"gender",name:"gender",class:"form-control",placeholder:"性别","onUpdate:modelValue":s[10]||(s[10]=a=>n.formData.gender=a)},Xa,512),[[ee,n.formData.gender]])]),e("div",el,[R(e("select",{id:"idType",name:"idType",class:"form-control",placeholder:"证件类型","onUpdate:modelValue":s[11]||(s[11]=a=>n.formData.idType=a)},nl,512),[[ee,n.formData.idType]]),R(e("input",{type:"tel",id:"phone",name:"phone",class:"form-control",placeholder:"联系电话","onUpdate:modelValue":s[12]||(s[12]=a=>n.formData.phone=a)},null,512),[[O,n.formData.phone]])]),e("div",sl,[R(e("input",{type:"text",id:"number",name:"number",class:"form-control",placeholder:"请输入证件号","onUpdate:modelValue":s[13]||(s[13]=a=>n.formData.number=a)},null,512),[[O,n.formData.number]])])],32)])):w("",!0),e("div",null,[e("div",ol,[R(e("input",{type:"checkbox",id:"checkbox","onUpdate:modelValue":s[15]||(s[15]=a=>n.checked=a)},null,512),[[pe,n.checked]]),il])])]),e("div",null,m(n.formData.name),1)],64)}const ll=C(Va,[["render",al],["__scopeId","data-v-e695a2cc"]]),rl={components:{Header:J},data(){return{squares:[{hovered:!1},{hovered:!0},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","取消预约"],checked:!1,currentSquareIndex:0,squares2:[{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!0,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],departments:[{id:"internal",name:"内科"},{id:"surgical",name:"外科"},{id:"medical_tech",name:"医技科室"}],selectedDepartment:"internal",hoveredButton:"internal",selectedDepartmentName:"",selectedDepartmentRight:"",selectedSubDepartment:"",selectedSubDepartmentName:"",info:{name:"",paymentType:""}}},methods:{selectDepartment(t){this.selectedDepartment=t},selectSubDepartment(t){this.selectedDepartmentName=this.getSubDepartments(this.selectedDepartment)[t-1].name,this.selectedDepartmentRight=this.selectedDepartment,this.selectedSubDepartment=this.getSubDepartments(this.selectedDepartment)[t-1].id,this.checked=!0},getSubDepartmentsName(t){if(t==="internal")return[{subname:"内科系统",enbame:"Internal Medician System"}];if(t==="surgical")return[{subname:"外科系统",enbame:"Surgical System"}];if(t==="medical_tech")return[{subname:"医技科室",enbame:"Medical Technology Department"}]},getSubDepartments(t){if(t==="internal")return[{id:1,name:"心血管内科"},{id:2,name:"呼吸与危重症医学科"},{id:3,name:"内分泌科"},{id:4,name:"肾内科"},{id:5,name:"血液内科"},{id:6,name:"消化科"},{id:7,name:"风湿免疫科"},{id:8,name:"老年内科"},{id:9,name:"神经内科"},{id:10,name:"感染疾病科"},{id:11,name:"急诊科"},{id:12,name:"皮肤科"},{id:13,name:"中医科"},{id:14,name:"职业病科"},{id:15,name:"肿瘤放疗科"},{id:16,name:"肿瘤化疗与放射病科"},{id:17,name:"儿科"},{id:18,name:"体检中心"},{id:19,name:"全科医学科"}];if(t==="surgical")return[{id:1,name:"普通外科"},{id:2,name:"骨科"},{id:3,name:"泌尿外科"},{id:4,name:"胸外科"},{id:5,name:"心脏外科"},{id:6,name:"神经外科"},{id:7,name:"整形科"},{id:8,name:"介入血管外科"},{id:9,name:"危重医学科"},{id:10,name:"运动医学科"},{id:11,name:"康复医学科"},{id:12,name:"妇产科"},{id:13,name:"生殖医学科"},{id:14,name:"眼科"},{id:15,name:"耳鼻喉科"},{id:16,name:"口腔科"},{id:17,name:"麻醉科"},{id:18,name:"疼痛医学中心"}];if(t==="medical_tech")return[{id:1,name:"放射科"},{id:2,name:"超声医学科"},{id:3,name:"核医学科"},{id:4,name:"检验科"},{id:5,name:"输血科"},{id:6,name:"药剂科"},{id:7,name:"手术室"},{id:8,name:"病理科"},{id:9,name:"病案科"},{id:10,name:"临床营养科"}]},hoverButton(){},mouseoutButton(){}},created(){this.info.name=this.$route.query.name,this.info.paymentType=this.$route.query.paymentType}},cl=t=>(M("data-v-d943b25f"),t=t(),q(),t),dl={class:"notice-box"},ul={class:"department-selector"},ml={class:"left-buttons"},pl=["onClick"],_l={class:"right-buttons"},hl={class:"selected-department-container"},fl=cl(()=>e("div",{style:{height:"30px"}},"您选择的科室为：",-1)),vl={class:"sub-department-titles selected-department-title",style:{width:"200px",height:"30px"}},gl={class:"container2"},yl={class:"sub-department-titles"},bl={key:0,class:"sub-department-title-chinese"},kl={key:1,class:"sub-department-title-english"},xl={class:"sub-department-buttons"},$l=["onClick"];function wl(t,s,d,p,n,i){const f=r("Header"),c=r("router-link");return u(),_(x,null,[o(f,{squares2:n.squares2},null,8,["squares2"]),e("div",dl,[e("div",ul,[e("div",ml,[(u(!0),_(x,null,T(n.departments,a=>(u(),_("button",{key:a.id,class:I([{active:n.selectedDepartment===a.id},"round-button"]),onClick:h=>i.selectDepartment(a.id)},m(a.name),11,pl))),128))]),e("div",_l,[e("div",hl,[fl,e("div",vl,m(n.selectedDepartmentName),1),e("div",gl,[o(c,{to:"/AppointmentRegistration3",class:"button2 button-prev"},{default:l(()=>[v("上一步")]),_:1}),o(c,{to:{path:"/AppointmentRegistration5",query:{name:n.info.name,paymentType:n.info.paymentType,department:n.selectedDepartmentName}},class:"button2 button-next"},{default:l(()=>[v(" 下一步 ")]),_:1},8,["to"])])]),e("div",yl,[n.selectedDepartment?(u(),_("div",bl,m(i.getSubDepartmentsName(n.selectedDepartment)[0].subname),1)):w("",!0),n.selectedDepartment?(u(),_("div",kl,m(i.getSubDepartmentsName(n.selectedDepartment)[0].enbame),1)):w("",!0)]),e("div",xl,[(u(!0),_(x,null,T(i.getSubDepartments(n.selectedDepartment),a=>(u(),_("button",{key:a.id,class:I(["square-button",{selected:n.selectedSubDepartment===a.id&&n.selectedDepartmentRight===n.selectedDepartment}]),onMouseover:s[0]||(s[0]=(...h)=>i.hoverButton&&i.hoverButton(...h)),onMouseout:s[1]||(s[1]=(...h)=>i.mouseoutButton&&i.mouseoutButton(...h)),onClick:h=>i.selectSubDepartment(a.id)},m(a.name),43,$l))),128))])])])])],64)}const Cl=C(rl,[["render",wl],["__scopeId","data-v-d943b25f"]]),Sl={components:{Header:J},data(){return{squares:[{hovered:!1},{hovered:!0},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","取消预约"],checked:!1,currentSquareIndex:0,squares2:[{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!0,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],nextSevenDays:[],dayStatus:[{status:"none"},{status:"none"},{status:"none"},{status:"none"},{status:"none"},{status:"none"},{status:"none"}],selectedDate:null,selectDoctor:"",selectDate:"",today:new Date,doctors:[],isHovered:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],info:{name:"",paymentType:"",department:""},info_time:""}},methods:{getDutyData(){return new Promise((t,s)=>{let d=this,p={action:"getNextSevenDaysDuty",department:this.$route.query.department};this.$axios.post("/api/duty/next_seven_days/",p).then(function(n){d.doctors=n.data.duty,console.log(d.doctors),t()}).catch(function(n){console.log(n),s(n)})})},isClick(t,s){this.info_time=s,this.checked=!0,this.selectDoctor=t,this.selectDate=s},locatenextSevenDays(){const t=[];for(let s=0;s<7;s++){const d=new Date(this.today);d.setDate(this.today.getDate()+s),t.push({date:this.formatDate(d),dayOfWeek:this.formatDayOfWeek(d)})}return t},formatDate(t){const s=String(t.getMonth()+1).padStart(2,"0"),d=String(t.getDate()).padStart(2,"0");return`${s}-${d}`},formatDayOfWeek(t){return`周${["日","一","二","三","四","五","六"][t.getDay()]}`},clickButton(t){this.selectedDate=t.date},doctorHasScheduleForDate(t,s){return t.schedule.some(d=>d.time.includes(s))},dayHasScheduleForDate(t,s){return t.time.includes(s)},hoverButton(){},mouseoutButton(){}},mounted(){this.getDutyData().then(()=>{console.log("111"),console.log(this.doctors),this.nextSevenDays=this.locatenextSevenDays();for(let t=0;t<this.nextSevenDays.length;t++){const s=this.nextSevenDays[t].date;this.dayStatus[t].status="none",this.doctors.forEach(d=>{d.schedule.forEach(p=>{p.time.includes(s)&&(p.status==="full"&&this.dayStatus[t].status!="empty"?this.dayStatus[t].status="full":p.status==="empty"&&(this.dayStatus[t].status="empty")),console.log(this.dayStatus[t].status)})})}this.info.name=this.$route.query.name,this.info.paymentType=this.$route.query.paymentType,this.info.department=this.$route.query.department,console.log(this.doctors)})}},Dl=t=>(M("data-v-0ae5e125"),t=t(),q(),t),Tl={class:"notice-box",style:{height:"1000px"}},Ml={class:"container2"},ql={class:"date-blocks"},Al=["onClick"],Vl={key:0},Il={key:1},Pl={key:2},Bl={key:3},Ul={key:4},Rl={key:5},Ll={class:"doctor-intro"},Fl={key:0,class:"doctor-item"},jl={class:"doctor-header"},Nl=["src"],Hl={class:"info"},zl={class:"name"},El={class:"title"},Ol={class:"research"},Yl={class:"schedule"},Gl={key:0},Jl={key:0,class:"schedule-item1"},Kl={class:"time-label"},Zl=Dl(()=>e("div",null,[e("div",{class:"status"},"约满")],-1)),Wl=["onClick"],Ql={class:"time-label"},Xl={class:"status",style:{color:"blue"}};function er(t,s,d,p,n,i){const f=r("Header"),c=r("router-link");return u(),_(x,null,[o(f,{squares2:n.squares2},null,8,["squares2"]),e("div",Tl,[e("div",Ml,[o(c,{to:"/AppointmentRegistration4",class:"button2 button-prev",style:{"text-decoration":"none"}},{default:l(()=>[v("上一步")]),_:1}),n.checked?(u(),P(c,{key:0,to:{path:"/AppointmentRegistration6",query:{name:n.info.name,paymentType:n.info.paymentType,department:n.info.department,time:n.info_time}},class:"button2 button-next",style:{"text-decoration":"none"}},{default:l(()=>[v(" 下一步 ")]),_:1},8,["to"])):w("",!0)]),e("div",ql,[(u(!0),_(x,null,T(n.nextSevenDays,(a,h)=>(u(),_("button",{class:I(["date-block",{noSelected:n.dayStatus[h].status!="empty"}]),key:h,onMouseover:s[0]||(s[0]=(...b)=>i.hoverButton&&i.hoverButton(...b)),onClick:b=>i.clickButton(a)},[e("div",null,m(a.date),1),h==0?(u(),_("div",Vl,"今天")):h==1?(u(),_("div",Il,"明天")):(u(),_("div",Pl,m(a.dayOfWeek),1)),n.dayStatus[h].status=="none"?(u(),_("div",Bl,"无排班")):n.dayStatus[h].status=="full"?(u(),_("div",Ul,"约满")):(u(),_("div",Rl,"有号"))],42,Al))),128))]),e("div",Ll,[(u(!0),_(x,null,T(n.doctors,a=>(u(),_("div",{key:a.name},[i.doctorHasScheduleForDate(a,n.selectedDate)?(u(),_("div",Fl,[e("div",jl,[e("img",{src:a.avatar,alt:"",class:"avatar"},null,8,Nl),e("div",Hl,[e("div",zl,m(a.name),1),e("div",El,m(a.title),1),e("div",Ol,m(a.research),1)])]),e("div",Yl,[(u(!0),_(x,null,T(a.schedule,(h,b)=>(u(),_("div",{key:b},[i.dayHasScheduleForDate(h,n.selectedDate)?(u(),_("div",Gl,[h.status!="empty"?(u(),_("button",Jl,[e("div",Kl,m(h.time),1),Zl])):(u(),_("button",{key:1,onClick:k=>i.isClick(a.name,h.time),onMouseover:s[1]||(s[1]=(...k)=>i.hoverButton&&i.hoverButton(...k)),onMouseout:s[2]||(s[2]=(...k)=>i.mouseoutButton&&i.mouseoutButton(...k)),class:I(["schedule-item",{check:a.name===n.selectDoctor&&h.time===n.selectDate}])},[e("div",Ql,m(h.time),1),e("div",null,[e("div",Xl,"余 "+m(h.number),1)])],42,Wl))])):w("",!0)]))),128))])])):w("",!0)]))),128))])])],64)}const tr=C(Sl,[["render",er],["__scopeId","data-v-0ae5e125"]]),nr={components:{Header:J},data(){return{squares:[{hovered:!1},{hovered:!0},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","取消预约"],checked:!1,currentSquareIndex:0,squares2:[{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!0,done:!1},{hovered:!1,active:!1,done:!1},{hovered:!1,active:!1,done:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],selectTime:1,timetable_1:[{startTime:"08:00",endTime:"08:10"},{startTime:"08:10",endTime:"08:20"},{startTime:"08:20",endTime:"08:30"},{startTime:"08:30",endTime:"08:40"},{startTime:"08:40",endTime:"08:50"},{startTime:"08:50",endTime:"09:00"},{startTime:"09:00",endTime:"09:10"},{startTime:"09:10",endTime:"09:20"},{startTime:"09:20",endTime:"09:30"},{startTime:"09:30",endTime:"09:40"},{startTime:"09:40",endTime:"09:50"},{startTime:"09:50",endTime:"10:00"},{startTime:"10:00",endTime:"10:10"},{startTime:"10:10",endTime:"10:20"},{startTime:"10:20",endTime:"10:30"},{startTime:"10:30",endTime:"10:40"},{startTime:"10:40",endTime:"10:50"},{startTime:"10:50",endTime:"11:00"},{startTime:"11:00",endTime:"11:10"},{startTime:"11:10",endTime:"11:20"}],timetable_2:[{startTime:"14:00",endTime:"14:10"},{startTime:"14:10",endTime:"14:20"},{startTime:"14:20",endTime:"14:30"},{startTime:"14:30",endTime:"14:40"},{startTime:"14:40",endTime:"14:50"},{startTime:"14:50",endTime:"15:00"},{startTime:"15:00",endTime:"15:10"},{startTime:"15:10",endTime:"15:20"},{startTime:"15:20",endTime:"15:30"},{startTime:"15:30",endTime:"15:40"},{startTime:"15:40",endTime:"15:50"},{startTime:"15:50",endTime:"16:00"},{startTime:"16:00",endTime:"16:10"},{startTime:"16:10",endTime:"16:20"},{startTime:"16:20",endTime:"16:30"},{startTime:"16:30",endTime:"16:40"},{startTime:"16:40",endTime:"16:50"},{startTime:"16:50",endTime:"17:00"},{startTime:"17:00",endTime:"17:10"},{startTime:"17:10",endTime:"17:20"}],doctors:[{}],info:{name:"",paymentType:"",department:""},info_time:"",timeOfDay:"",info_startTime:"",info_endTime:"",info_number:0}},methods:{nextSquare(){},selectTimeSlot(t,s,d){this.selectTime=t,this.checked=!0,this.info_startTime=s,this.info_endTime=d,this.info_number=t+1},displayTime(){return this.timeOfDay=this.info_time.match(/\(.*?\)/)||[],timeOfDay=="(下午)"?1:timeOfDay=="(上午)"||!timeOfDay?0:"未知的时间"}},created(){this.info.name=this.$route.query.name,this.info.paymentType=this.$route.query.paymentType,this.info.department=this.$route.query.department,this.info_time=this.$route.query.time}},sr={class:"notice-box",style:{height:"1400px"}},or={class:"container2"},ir={class:"doctor-item"},ar={class:"doctor-header"},lr=["src"],rr={class:"info"},cr={class:"name"},dr={class:"title"},ur={class:"research"},mr={class:"button-container"},pr=["onClick"],_r=["onClick"];function hr(t,s,d,p,n,i){const f=r("Header"),c=r("router-link");return u(),_(x,null,[o(f,{squares2:n.squares2},null,8,["squares2"]),e("div",sr,[e("div",or,[o(c,{to:"/AppointmentRegistration5",class:"button2 button-prev",style:{"text-decoration":"none"}},{default:l(()=>[v("上一步")]),_:1}),n.checked?(u(),P(c,{key:0,to:{path:"/AppointmentRegistration7",query:{name:n.info.name,paymentType:n.info.paymentType,department:n.info.department,time:n.info_time,starttime:n.info_startTime,endtime:n.info_endTime,number:n.info_number,doctorName:n.doctors[0].name,doctorTitle:n.doctors[0].title,doctorAvatar:n.doctors[0].avatar,doctorRearch:n.doctors[0].research,cost:n.doctors[0].cost}},class:"button2 button-next",style:{"text-decoration":"none"}},{default:l(()=>[v(" 下一步")]),_:1},8,["to"])):w("",!0)]),e("div",ir,[e("div",ar,[e("img",{src:n.doctors[0].avatar,alt:"",class:"avatar"},null,8,lr),e("div",rr,[e("div",cr,m(n.doctors[0].name),1),e("div",dr,m(n.doctors[0].title),1),e("div",ur,m(n.doctors[0].research),1)])])]),e("div",mr,[(u(!0),_(x,null,T(n.doctors[0].emptytime,(a,h)=>(u(),_("div",{key:h,class:"button-row"},[a.status==="empty"&&(this.info_time.match(/\(.*?\)/)||[])[0]=="(上午)"?(u(),_("button",{key:0,onClick:b=>i.selectTimeSlot(h,n.timetable_1[a.number-1].startTime,n.timetable_1[a.number-1].endTime),class:I(["button-down",{selected:n.selectTime===h}])},[v(m(n.timetable_1[a.number-1].startTime)+" - "+m(n.timetable_1[a.number-1].endTime)+" ",1),e("span",null,m(h+1)+" 号",1)],10,pr)):w("",!0),a.status==="empty"&&(this.info_time.match(/\(.*?\)/)||[])[0]=="(下午)"?(u(),_("button",{key:1,onClick:b=>i.selectTimeSlot(h,n.timetable_2[a.number-1].startTime,n.timetable_2[a.number-1].endTime),class:I(["button-down",{selected:n.selectTime===h}])},[v(m(n.timetable_2[a.number-1].startTime)+" - "+m(n.timetable_2[a.number-1].endTime)+" ",1),e("span",null,m(h+1)+" 号",1)],10,_r)):w("",!0)]))),128))])])],64)}const fr=C(nr,[["render",hr],["__scopeId","data-v-696b15bc"]]),vr={components:{Header:J},data(){return{checked:!1,currentSquareIndex:0,squares2:[{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!0,done:!1},{hovered:!1,active:!1,done:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],selectTime:1,isMedicalInsurance:!0,info:{name:"",paymentType:"",department:"",time:"",starttime:"",endtime:"",number:"",doctorName:"",doctorTitle:"",doctorAvatar:"",doctorRearch:"",cost:""}}},methods:{submit(){this.form.address="猫猫就诊",this.form.selectTimeTable=this.selectTimeTable,this.form.order=this.doctor.cost,this.form.people=this.people,this.form.isMedicalInsurance=this.isMedicalInsurance,this.form.doctorname=this.doctor.name},selectTimeSlot(t){this.selectTime=t,this.checked=!0},togglePaymentType(){this.isMedicalInsurance=!this.isMedicalInsurance}},created(){this.info.name=this.$route.query.name,this.info.paymentType=this.$route.query.paymentType,this.info.department=this.$route.query.department,this.info.time=this.$route.query.time,this.info.starttime=this.$route.query.starttime,this.info.endtime=this.$route.query.endtime,this.info.number=this.$route.query.number,this.info.doctorName=this.$route.query.doctorName,this.info.doctorTitle=this.$route.query.doctorTitle,this.info.doctorAvatar=this.$route.query.doctorAvatar,this.info.doctorRearch=this.$route.query.doctorRearch,this.info.cost=this.$route.query.cost}},Z=t=>(M("data-v-690ae25a"),t=t(),q(),t),gr={class:"notice-box",style:{height:"1500px"}},yr={class:"container2"},br={class:"doctor-item"},kr={class:"doctor-header"},xr=["src"],$r={class:"info"},wr={class:"name"},Cr={class:"title"},Sr={class:"research"},Dr=Z(()=>e("div",{class:"detail-container"},[e("div",{class:"detail-item"},"就诊院区："),e("div",{class:"detail-item"},"猫猫就诊")],-1)),Tr={class:"detail-container"},Mr=Z(()=>e("div",{class:"detail-item"},"科室：",-1)),qr={class:"detail-item"},Ar={class:"detail-container"},Vr=Z(()=>e("div",{class:"detail-item"},"就诊日期：",-1)),Ir={class:"detail-item"},Pr={class:"detail-container"},Br=Z(()=>e("div",{class:"detail-item"},"就诊时间：",-1)),Ur={class:"detail-item"},Rr={class:"detail-container"},Lr=Z(()=>e("div",{class:"detail-item"},"医事服务费：",-1)),Fr={class:"detail-item"},jr=Z(()=>e("div",{class:"detail-container"},[e("div",{class:"detail-item"},"就诊人："),e("div",{class:"detail-item"},"林艺涵")],-1)),Nr={class:"detail-container"},Hr=Z(()=>e("div",{class:"detail-item"},"*支付类型（请选择）：",-1)),zr={style:{display:"flex","justify-content":"space-around",height:"50px"},class:"detail-item"};function Er(t,s,d,p,n,i){const f=r("Header"),c=r("router-link");return u(),_(x,null,[o(f,{squares2:n.squares2},null,8,["squares2"]),e("div",gr,[e("div",yr,[o(c,{to:{path:"/AppointmentRegistration8",query:{order:JSON.stringify(n.info)}},class:"button2 button-next",onClick:i.submit},{default:l(()=>[v("确认")]),_:1},8,["to","onClick"])]),e("div",br,[e("div",kr,[e("img",{src:n.info.doctorAvatar,alt:"",class:"avatar"},null,8,xr),e("div",$r,[e("div",wr,m(n.info.doctorName),1),e("div",Cr,m(n.info.doctorTitle),1),e("div",Sr,m(n.info.doctorRearch),1)])]),Dr,e("div",Tr,[Mr,e("div",qr,m(n.info.department),1)]),e("div",Ar,[Vr,e("div",Ir,"2024-"+m(n.info.time),1)]),e("div",Pr,[Br,e("div",Ur,m(n.info.starttime)+"-"+m(n.info.endtime),1)]),e("div",Rr,[Lr,e("div",Fr,m(n.info.cost)+"元",1)]),jr,e("div",Nr,[Hr,e("div",zr,[e("div",null,m(n.isMedicalInsurance?"医保":"非医保"),1),e("span",{class:"toggle-arrow",onClick:s[0]||(s[0]=(...a)=>i.togglePaymentType&&i.togglePaymentType(...a))},"▶")])])])])],64)}const Or=C(vr,[["render",Er],["__scopeId","data-v-690ae25a"]]),Yr={components:{Header:J},data(){return{checked:!1,currentSquareIndex:0,squares2:[{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!1,done:!0},{hovered:!1,active:!0,done:!1}],info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"],form:{address:"北医三院",selectTimeTable:{time:"05-09(上午)",startTime:"08:00",endTime:"08:10"},order:100,people:{name:"林艺涵",gender:"女",idType:"身份证",phone:"18518559617",number:"370883200503160423"},isMedicalInsurance:!0,doctor:"医生A",department:"心血管内科",num:15},currentTime:"",info:{}}},methods:{timeBeforeTenMinutes(t){var[s,d]=t.split(":").map(Number),p=s,n=d-10;n<0&&(p-=1,n+=60);const i=String(p).padStart(2,"0"),f=String(n).padStart(2,"0");return`${i}时${f}分`},updateCurrentTime(){const t=new Date,s=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`;this.currentTime=s}},created(){this.updateCurrentTime();const t=this.$route.query.order;t&&(this.info=JSON.parse(t))}},z=t=>(M("data-v-9653148f"),t=t(),q(),t),Gr={class:"notice-box",style:{height:"1400px"}},Jr={style:{width:"800px",margin:"20px auto"}},Kr=z(()=>e("div",{class:"subline"},"您好，您已预约成功。订单详情如下",-1)),Zr={class:"subline"},Wr=z(()=>e("div",null,"就诊人：",-1)),Qr={class:"detail"},Xr={class:"subline"},ec=z(()=>e("div",null,"医生：",-1)),tc={class:"detail"},nc=z(()=>e("div",{class:"subline"},[e("div",null,"就诊医院："),e("div",{class:"detail"},"猫猫就诊")],-1)),sc={class:"subline"},oc=z(()=>e("div",null,"科室：",-1)),ic={class:"detail"},ac={class:"subline"},lc=z(()=>e("div",null,"就诊时段：",-1)),rc={class:"detail"},cc={class:"subline"},dc=z(()=>e("div",{class:"detail"},"建议到诊时间：",-1)),uc={class:"detail"},mc={class:"subline"},pc=z(()=>e("div",null,"医事服务费：",-1)),_c={key:0,class:"detail"},hc={key:1,class:"detail"},fc={class:"subline"},vc=z(()=>e("div",null,"就诊序号：",-1)),gc={class:"detail"},yc={class:"subline"},bc=z(()=>e("div",null,"挂号时间：",-1)),kc=te('<div class="subline" data-v-9653148f><div data-v-9653148f>温馨提示：</div></div><div data-v-9653148f><div style="margin:5px auto;" data-v-9653148f> (1)医保患者请携带挂号凭证(电子就医卡二维码)和医保卡，到自助机或挂号/预约取号窗口缴费取号，再去分诊台分诊。(取号时间:上午号时间11:30前、下午号16:30前) </div><div style="margin:5px auto;" data-v-9653148f> (2)非医保患者请携带挂号凭证(电子就医卡二维码)，无需取号即可去分诊台分诊。 </div><div style="margin:5px auto;" data-v-9653148f> (3)所有挂号在就诊当日上午号12:00前、下午号17:00前有效，过有效时间后不再安排就诊及退费。 </div><div style="margin:5px auto;" data-v-9653148f> 倡导文明绿色出行，共享单车请入栏停放。如需驾车,中大型轿车及SUV车型沿道路最内侧的排队通道进入，标准尺寸小型轿车工作日8-16时周末8-12时可直接进入医院。 </div></div>',2),xc={class:"container2"};function $c(t,s,d,p,n,i){const f=r("Header");return u(),_(x,null,[o(f,{squares2:n.squares2},null,8,["squares2"]),e("div",Gr,[e("div",Jr,[Kr,e("div",Zr,[Wr,e("div",Qr,m(n.info.name),1)]),e("div",Xr,[ec,e("div",tc,m(n.info.doctorName),1)]),nc,e("div",sc,[oc,e("div",ic,m(n.info.department),1)]),e("div",ac,[lc,e("div",rc,"2024-"+m(n.info.time)+" "+m(n.info.starttime)+"-"+m(n.info.endtime),1)]),e("div",cc,[dc,e("div",uc,m(i.timeBeforeTenMinutes(n.info.starttime)),1)]),e("div",mc,[pc,this.form.isMedicalInsurance?(u(),_("div",_c,"0元")):(u(),_("div",hc,m(n.info.cost)+"元",1))]),e("div",fc,[vc,e("div",gc,m(n.info.number),1)]),e("div",yc,[bc,e("div",null,m(n.currentTime),1)]),kc]),e("div",xc,[e("button",{class:"button2 button-next",onClick:s[0]||(s[0]=(...c)=>t.submit&&t.submit(...c))},"确认")])])],64)}const wc=C(Yr,[["render",$c],["__scopeId","data-v-9653148f"]]),Cc={props:{squares2:{type:Array,required:!0}},data(){return{squares:[{hovered:!1},{hovered:!1},{hovered:!1},{hovered:!0}],info:["出诊查询","网上预约看诊","预约流程","医生查询"],checked:!1,currentSquareIndex:0,selected:0,info2:["就诊须知","挂号类别","填写预约信息","选择科室","选择医生","选择时间地点","核对预约信息","预约成功"]}},methods:{toggleSquare(t){this.currentSquareIndex=t,this.currentSquareIndex=1,this.checked=!1},nextSquare(){}}},Sc={class:"container",style:{display:"flex","justify-content":"center","align-items":"center",height:"180px"}},Dc=["onMouseover","onMouseout"];function Tc(t,s,d,p,n,i){return u(),_("div",Sc,[(u(!0),_(x,null,T(n.squares,(f,c)=>(u(),_("div",{key:c,class:I(["square",{"square-hovered":n.selected==c||f.hovered}]),onMouseover:a=>f.hovered=!0,onMouseout:a=>f.hovered=!1},m(n.info[c]),43,Dc))),128))])}const be=C(Cc,[["render",Tc],["__scopeId","data-v-481af824"]]),Mc={components:{Header:be},data(){return{squares:[{hovered:!0},{hovered:!1},{hovered:!1},{hovered:!1}],info:["出诊查询","网上预约看诊","预约流程","医生查询"],link:["/TableSearch","/AppointmentRegistration","/AppointmentRegistration","/DoctorSearch"],departments:[{id:0,name:"心血管内科",pinyin:"Xinxueguanneike"},{id:1,name:"呼吸与危重症医学科",pinyin:"Huxi"},{id:2,name:"内分泌科",pinyin:"Neifenmi"},{id:3,name:"肾内科",pinyin:"Shenneike"},{id:4,name:"血液内科",pinyin:"Xueye"},{id:5,name:"消化科",pinyin:"Xiaohua"},{id:6,name:"风湿免疫科",pinyin:"Fengshi"},{id:7,name:"老年内科",pinyin:"Laonian"},{id:8,name:"神经内科",pinyin:"Shenjing"},{id:9,name:"感染疾病科",pinyin:"Ganran"},{id:10,name:"急诊科",pinyin:"Jizhen"},{id:11,name:"皮肤科",pinyin:"Pifu"},{id:12,name:"中医科",pinyin:"Zhongyi"},{id:13,name:"职业病科",pinyin:"Zhiye"},{id:14,name:"肿瘤放疗科",pinyin:"Zhongliu"},{id:15,name:"肿瘤化疗与放射病科",pinyin:"Zhongliu"},{id:16,name:"儿科",pinyin:"Erke"},{id:17,name:"体检中心",pinyin:"Tijian"},{id:18,name:"全科医学科",pinyin:"Quanke"},{id:19,name:"普通外科",pinyin:"Puwai"},{id:20,name:"骨科",pinyin:"Guke"},{id:21,name:"泌尿外科",pinyin:"Miniao"},{id:22,name:"胸外科",pinyin:"Xiongwai"},{id:23,name:"心脏外科",pinyin:"Xinwai"},{id:24,name:"神经外科",pinyin:"Shenwai"},{id:25,name:"整形科",pinyin:"Zhengxing"},{id:26,name:"介入血管外科",pinyin:"Jieru"},{id:27,name:"危重医学科",pinyin:"Weizhong"},{id:28,name:"运动医学科",pinyin:"Yundong"},{id:29,name:"康复医学科",pinyin:"Kangfu"},{id:30,name:"妇产科",pinyin:"Fuchan"},{id:31,name:"生殖医学科",pinyin:"Shengzhi"},{id:32,name:"眼科",pinyin:"Yanke"},{id:33,name:"耳鼻喉科",pinyin:"Erbihou"},{id:34,name:"口腔科",pinyin:"Kouqiang"},{id:35,name:"麻醉科",pinyin:"Mazui"},{id:36,name:"疼痛医学中心",pinyin:"Tengtong"},{id:37,name:"放射科",pinyin:"Fangshe"},{id:38,name:"超声医学科",pinyin:"Chaosheng"},{id:39,name:"核医学科",pinyin:"He"},{id:40,name:"检验科",pinyin:"Jianyan"},{id:41,name:"输血科",pinyin:"Shuxue"},{id:42,name:"药剂科",pinyin:"Yaoji"},{id:43,name:"手术室",pinyin:"Shoushu"},{id:44,name:"病理科",pinyin:"Bingli"},{id:45,name:"病案科",pinyin:"Bingan"},{id:46,name:"临床营养科",pinyin:"Linchuang"}],doctors:[{name:"医生A",title:"主任医师",department:{id:0,name:"心血管内科"},research:"生物信息",schedule:[{time:"05-09(上午)",status:"empty",number:10},{time:"05-07(下午) ",status:"full"}],cost:100},{name:"医生B",title:"副主任医师",department:{id:1,name:"呼吸与危重症医学科"},research:"生物信息",schedule:[{time:"05-08(上午)",status:"full"},{time:"05-09(下午) ",status:"empty",number:5}],cost:60},{name:"医生C",title:"副主任医师",department:{id:0,name:"心血管内科"},research:"生物信息",schedule:[{time:"05-06(上午)",status:"full"},{time:"05-10(下午) ",status:"full"}],cost:60}],departmentLetters:["ALL","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],selectedLetterIndex:-1,square_selected:-1,select:!1}},computed:{filteredDepartments(){if(this.selectedLetterIndex===-1)return this.departments;{const t=this.departmentLetters[this.selectedLetterIndex].toUpperCase();return this.departments.filter(s=>s.pinyin[0].toUpperCase()===t)}}},methods:{selectDepartment(t){t==0?this.selectedLetterIndex=-1:this.selectedLetterIndex=t},isActive(t){return t==0?this.selectedLetterIndex===-1:this.selectedLetterIndex===t},square_select(t){this.square_selected=t,this.select=!0},filteredDoctors(t){return this.doctors.filter(s=>s.department.id===t)}}},qc=t=>(M("data-v-0d772a8f"),t=t(),q(),t),Ac={class:"containerlyh",style:{display:"flex","justify-content":"center","align-items":"center",height:"180px"}},Vc={class:"circle-buttons"},Ic=["onClick"],Pc={class:"square-buttons"},Bc=["onClick"],Uc={key:0,class:"doctors-table-container",id:"targetDiv"},Rc={class:"doctors-table"},Lc=qc(()=>e("thead",null,[e("tr",null,[e("th",null,"科室"),e("th",null,"姓名"),e("th",null,"专长"),e("th",null,"出诊时间"),e("th",null,"门诊限号")])],-1));function Fc(t,s,d,p,n,i){const f=r("router-link");return u(),_(x,null,[e("div",Ac,[(u(!0),_(x,null,T(n.squares,(c,a)=>(u(),P(f,{key:a,to:n.link[a],class:I(["square",{"square-hovered":c.hovered||a===0}]),onMouseover:h=>c.hovered=!0,onMouseout:h=>c.hovered=!1},{default:l(()=>[v(m(n.info[a]),1)]),_:2},1032,["to","class","onMouseover","onMouseout"]))),128))]),e("div",null,[e("div",Vc,[(u(!0),_(x,null,T(n.departmentLetters,(c,a)=>(u(),_("button",{key:a,class:I({selected:i.isActive(a)}),onClick:h=>i.selectDepartment(a)},m(c),11,Ic))),128))]),e("div",Pc,[(u(!0),_(x,null,T(i.filteredDepartments,(c,a)=>(u(),_("div",{key:a,onClick:h=>i.square_select(c.id)},[e("button",{class:I(["department-button",{"department-button-selected":c.id==n.square_selected}])},m(c.name),3)],8,Bc))),128))])]),n.select?(u(),_("div",Uc,[e("table",Rc,[Lc,e("tbody",null,[(u(!0),_(x,null,T(i.filteredDoctors(n.square_selected),c=>(u(),_("tr",{key:c.name},[e("td",null,m(c.department.name),1),e("td",null,m(c.name),1),e("td",null,m(c.research),1),e("td",null,m(c.schedule.map(a=>a.time).join(", ")),1),e("td",null,m(c.schedule.length*20),1)]))),128))])])])):w("",!0)],64)}const jc=C(Mc,[["render",Fc],["__scopeId","data-v-0d772a8f"]]),Nc={components:{Header:be},data(){return{squares:[{hovered:!1},{hovered:!1},{hovered:!1},{hovered:!0}],info:["出诊查询","网上预约看诊","预约流程","医生查询"],link:["/TableSearch","/AppointmentRegistration","/AppointmentRegistration","/DoctorSearch"],departments:[{id:0,name:"心血管内科",pinyin:"Xinxueguanneike"},{id:1,name:"呼吸与危重症医学科",pinyin:"Huxi"},{id:2,name:"内分泌科",pinyin:"Neifenmi"},{id:3,name:"肾内科",pinyin:"Shenneike"},{id:4,name:"血液内科",pinyin:"Xueye"},{id:5,name:"消化科",pinyin:"Xiaohua"},{id:6,name:"风湿免疫科",pinyin:"Fengshi"},{id:7,name:"老年内科",pinyin:"Laonian"},{id:8,name:"神经内科",pinyin:"Shenjing"},{id:9,name:"感染疾病科",pinyin:"Ganran"},{id:10,name:"急诊科",pinyin:"Jizhen"},{id:11,name:"皮肤科",pinyin:"Pifu"},{id:12,name:"中医科",pinyin:"Zhongyi"},{id:13,name:"职业病科",pinyin:"Zhiye"},{id:14,name:"肿瘤放疗科",pinyin:"Zhongliu"},{id:15,name:"肿瘤化疗与放射病科",pinyin:"Zhongliu"},{id:16,name:"儿科",pinyin:"Erke"},{id:17,name:"体检中心",pinyin:"Tijian"},{id:18,name:"全科医学科",pinyin:"Quanke"},{id:19,name:"普通外科",pinyin:"Puwai"},{id:20,name:"骨科",pinyin:"Guke"},{id:21,name:"泌尿外科",pinyin:"Miniao"},{id:22,name:"胸外科",pinyin:"Xiongwai"},{id:23,name:"心脏外科",pinyin:"Xinwai"},{id:24,name:"神经外科",pinyin:"Shenwai"},{id:25,name:"整形科",pinyin:"Zhengxing"},{id:26,name:"介入血管外科",pinyin:"Jieru"},{id:27,name:"危重医学科",pinyin:"Weizhong"},{id:28,name:"运动医学科",pinyin:"Yundong"},{id:29,name:"康复医学科",pinyin:"Kangfu"},{id:30,name:"妇产科",pinyin:"Fuchan"},{id:31,name:"生殖医学科",pinyin:"Shengzhi"},{id:32,name:"眼科",pinyin:"Yanke"},{id:33,name:"耳鼻喉科",pinyin:"Erbihou"},{id:34,name:"口腔科",pinyin:"Kouqiang"},{id:35,name:"麻醉科",pinyin:"Mazui"},{id:36,name:"疼痛医学中心",pinyin:"Tengtong"},{id:37,name:"放射科",pinyin:"Fangshe"},{id:38,name:"超声医学科",pinyin:"Chaosheng"},{id:39,name:"核医学科",pinyin:"He"},{id:40,name:"检验科",pinyin:"Jianyan"},{id:41,name:"输血科",pinyin:"Shuxue"},{id:42,name:"药剂科",pinyin:"Yaoji"},{id:43,name:"手术室",pinyin:"Shoushu"},{id:44,name:"病理科",pinyin:"Bingli"},{id:45,name:"病案科",pinyin:"Bingan"},{id:46,name:"临床营养科",pinyin:"Linchuang"}],doctors:[{id:0,name:"医生A",title:"主任医师",department:{id:0,name:"心血管内科"},avatar:"img/avatar/lsy.jpg",research:"生物信息"},{id:1,name:"医生B",title:"副主任医师",avatar:"img/avatar/touxiang.png",department:{id:1,name:"呼吸与危重症医学科"},research:"生物信息"},{id:2,name:"医生C",title:"副主任医师",avatar:"img/avatar/touxiang (1).png",department:{id:0,name:"心血管内科"},research:"生物信息"},{id:3,name:"医生A",title:"主任医师",department:{id:0,name:"心血管内科"},avatar:"img/avatar/lsy.jpg",research:"生物信息"},{id:4,name:"医生B",title:"副主任医师",avatar:"img/avatar/touxiang.png",department:{id:1,name:"呼吸与危重症医学科"},research:"生物信息"},{id:5,name:"医生C",title:"副主任医师",avatar:"img/avatar/touxiang (1).png",department:{id:0,name:"心血管内科"},research:"生物信息"}],departmentLetters:["ALL","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],selectedLetterIndex:-1,square_selected:-1,select:!1,search:"",search_name_id:-1}},computed:{filteredDepartments(){if(this.selectedLetterIndex===-1)return this.departments;{const t=this.departmentLetters[this.selectedLetterIndex].toUpperCase();return this.departments.filter(s=>s.pinyin[0].toUpperCase()===t)}}},methods:{selectDepartment(t){t==0?this.selectedLetterIndex=-1:this.selectedLetterIndex=t},isActive(t){return t==0?this.selectedLetterIndex===-1:this.selectedLetterIndex===t},square_select(t){this.square_selected=t,this.select=!0,this.search_name_id=-1},filteredDoctors(t){return this.search_name_id!=-1?this.doctors.filter(s=>s.id===this.search_name_id):this.doctors.filter(s=>s.department.id===t)},querySearch(t,s){console.log(t);const d=this.doctors.filter(p=>p.name.includes(t));console.log(d),s(d)},handleSelect(t){this.search_name_id=t.id,console.log(t),input.value=t.name}}},Hc={class:"containerlyh",style:{display:"flex","justify-content":"center","align-items":"center",height:"180px"}},zc={class:"container2"},Ec={class:"input-container",style:{width:"500px",height:"100px",margin:"auto auto"}},Oc={class:"chaxun"},Yc={class:"el-input__icon"},Gc={class:"doctor-intro"},Jc={class:"doctor-header"},Kc=["src"],Zc={class:"info"},Wc={style:{display:"flex","align-items":"center"}},Qc={class:"name"},Xc={style:{"font-size":"12px"}},ed={class:"research"},td={class:"circle-buttons"},nd=["onClick"],sd={class:"square-buttons"},od=["onClick"];function id(t,s,d,p,n,i){const f=r("router-link"),c=r("el-autocomplete"),a=r("el-button");return u(),_(x,null,[e("div",Hc,[(u(!0),_(x,null,T(n.squares,(h,b)=>(u(),P(f,{key:b,to:n.link[b],class:I(["square",{"square-hovered":h.hovered||b==3}]),onMouseover:k=>h.hovered=!0,onMouseout:k=>h.hovered=!1},{default:l(()=>[v(m(n.info[b]),1)]),_:2},1032,["to","class","onMouseover","onMouseout"]))),128))]),e("div",zc,[e("div",Ec,[e("div",Oc,[o(c,{modelValue:n.search,"onUpdate:modelValue":s[0]||(s[0]=h=>n.search=h),"fetch-suggestions":i.querySearch,placeholder:"请输入医生姓名",onSelect:i.handleSelect,style:{width:"300px",height:"40px"}},{default:l(({item:h})=>[e("div",Yc,m(h.name),1)]),_:1},8,["modelValue","fetch-suggestions","onSelect"]),o(a,{color:"#DBA979",dark:t.isDark,plain:"",class:"searchButton",style:{width:"80px",height:"40px"}},{default:l(()=>[v("查询")]),_:1},8,["dark"]),e("p",null,m(n.search),1)])]),e("div",Gc,[(u(!0),_(x,null,T(i.filteredDoctors(n.square_selected),h=>(u(),_("div",{key:h.name,class:"doctor-item"},[e("div",Jc,[e("img",{src:h.avatar,alt:"",class:"avatar"},null,8,Kc),e("div",Zc,[e("div",Wc,[e("div",Qc,m(h.name),1),e("div",Xc,m(h.title),1)]),e("div",ed,m(h.research),1)])])]))),128))]),e("div",td,[(u(!0),_(x,null,T(n.departmentLetters,(h,b)=>(u(),_("button",{key:b,class:I({selected:i.isActive(b)}),onClick:k=>i.selectDepartment(b)},m(h),11,nd))),128))]),e("div",sd,[(u(!0),_(x,null,T(i.filteredDepartments,(h,b)=>(u(),_("div",{key:b,onClick:k=>i.square_select(h.id)},[e("button",{class:I(["department-button",{"department-button-selected":h.id==n.square_selected}])},m(h.name),3)],8,od))),128))])])],64)}const ad=C(Nc,[["render",id],["__scopeId","data-v-3117f364"]]),ld={name:"NavBar",setup(){const t=B(!1),s=()=>{t.value=window.scrollY>200};return ne(()=>{window.addEventListener("scroll",s)}),$e(()=>{window.removeEventListener("scroll",s)}),{isSticky:t}},data(){return{unreadCount:0}},components:{messagedrawer:ve,HeaderNavigation:to},methods:{NavbarLogin(){this.$refs.HeaderNavigation&&this.$refs.HeaderNavigation.showLogin?this.$refs.HeaderNavigation.showLogin():console.error("HeaderNavigation component is not properly initialized.")},openMessageBox(){this.$refs.messageBox.openDrawer()},getUnreadCount(t){this.unreadCount=t},returnTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}},mounted(){this.$refs.messageBox.countUnread()}};function rd(t,s,d,p,n,i){const f=r("HeaderNavigation"),c=r("messagedrawer"),a=r("RouterLink"),h=r("el-badge");return u(),_(x,null,[o(f,{ref:"HeaderNavigation"},null,512),e("div",{class:I(["navbar",{sticky:p.isSticky}])},[o(c,{ref:"messageBox",class:"messageBox","onUpdate:result":i.getUnreadCount},null,8,["onUpdate:result"]),o(a,{to:"/Main",onClick:i.returnTop,class:"white-bold"},{default:l(()=>[v("首页")]),_:1},8,["onClick"]),e("a",{onClick:s[0]||(s[0]=(...b)=>i.NavbarLogin&&i.NavbarLogin(...b)),class:"white-bold"},"登录"),e("a",{class:"white-bold",onClick:s[1]||(s[1]=(...b)=>i.openMessageBox&&i.openMessageBox(...b))},"消息"),n.unreadCount!==0?(u(),P(h,{key:0,value:n.unreadCount,class:"item"},null,8,["value"])):w("",!0),e("a",{onClick:s[2]||(s[2]=(...b)=>i.returnTop&&i.returnTop(...b)),class:"white-bold"},"回到顶部")],2)],64)}const cd=C(ld,[["render",rd],["__scopeId","data-v-e9d7669a"]]),dd={id:"app"},ud={__name:"App",setup(t){return(s,d)=>(u(),_("div",dd,[o(cd)]))}},md=De({history:Te("/"),routes:[{path:"/",redirect:"/Main"},{path:"/Main",name:"Main",component:fo},{path:"/Bill",name:"Bill",component:_t},{path:"/Prescription",name:"Prescription",component:Qn},{path:"/PatientA",name:"PatientA",component:Fn},{path:"/PresA",name:"PresA",component:oi},{path:"/AppointmentRegistration",name:"AppointmentRegistration",component:ya},{path:"/AppointmentRegistration2",name:"AppointmentRegistration2",component:Aa},{path:"/AppointmentRegistration3",name:"AppointmentRegistration3",component:ll},{path:"/AppointmentRegistration4",name:"AppointmentRegistration4",component:Cl},{path:"/AppointmentRegistration5",name:"AppointmentRegistration5",component:tr},{path:"/AppointmentRegistration6",name:"AppointmentRegistration6",component:fr},{path:"/AppointmentRegistration7",name:"AppointmentRegistration7",component:Or},{path:"/AppointmentRegistration8",name:"AppointmentRegistration8",component:wc},{path:"/TableSearch",name:"TableSearch",component:jc},{path:"/DoctorSearch",name:"DoctorSearch",component:ad},{path:"/MedicineA",name:"MedicineA",component:ge},{path:"/PharmaCist",name:"PharmaCist",component:ra}]}),G=we(ud);for(const[t,s]of Object.entries(qe))G.component(t,s);G.config.globalProperties.$axios=he;G.config.globalProperties.$identity_num="";G.config.productionTip=!1;G.use(md);G.use(Me);G.use(_e);G.mount("#app");
