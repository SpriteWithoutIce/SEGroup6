DEBUG 2024-06-01 14:41:18,238 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:42:31,954 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:45:26,875 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:46:42,421 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:52:17,811 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:55:38,399 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` integer AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-08-20 20:26:35,858 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:35,877 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:35,896 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-20 20:26:35,938 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:35,967 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-20 20:26:35,993 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,052 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,072 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,121 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,169 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-20 20:26:36,188 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,213 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:26:36,232 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,253 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,279 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-20 20:26:36,296 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,321 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,347 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:26:36,366 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,391 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,449 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,492 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,520 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,641 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,660 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,678 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,694 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,714 schema CREATE TABLE `app01_onduty` (`doctor_id` bigint NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,736 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,801 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,858 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:26:36,943 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:26:37,007 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,032 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,059 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,087 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,116 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,141 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,168 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,193 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,221 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,256 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,286 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,312 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,339 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,396 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-20 20:26:37,467 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-20 20:26:37,521 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,575 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,665 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-20 20:26:37,779 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,841 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,901 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:38,021 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:38,080 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:38,109 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-20 20:26:39,618 log Internal Server Error: /api/appointment/add/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
             ^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 558, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 822, in _read_query_result
    result.read()
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 1200, in read
    first_packet = self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 772, in _read_packet
    packet.raise_for_error()
  File "D:\anacoda\Lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "D:\anacoda\Lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1054, "Unknown column 'registerMan_id' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 157, in post
    return self.addRegisterData(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 328, in addRegisterData
    notice.save()
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\sql\compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "D:\anacoda\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
             ^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 558, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 822, in _read_query_result
    result.read()
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 1200, in read
    first_packet = self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 772, in _read_packet
    packet.raise_for_error()
  File "D:\anacoda\Lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "D:\anacoda\Lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.OperationalError: (1054, "Unknown column 'registerMan_id' in 'field list'")
WARNING 2024-08-20 20:26:39,696 log Bad Request: /api/registers/list/
DEBUG 2024-08-20 20:27:57,030 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,046 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,064 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-20 20:27:57,111 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,139 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-20 20:27:57,154 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,199 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,215 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,272 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,311 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-20 20:27:57,331 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,355 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:27:57,373 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,396 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,420 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-20 20:27:57,444 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,466 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,489 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:27:57,507 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,531 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,586 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,624 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,652 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,790 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,810 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,825 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,841 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,858 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,900 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,958 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,989 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:27:58,069 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:27:58,124 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,148 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,174 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,196 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,222 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,251 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,275 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,299 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,324 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,352 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,381 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,411 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,434 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,459 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,516 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-20 20:27:58,578 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-20 20:27:58,639 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:58,695 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:58,802 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-20 20:27:58,912 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:58,969 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:59,028 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:59,152 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:59,204 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:59,234 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-20 20:28:00,829 log Bad Request: /api/registers/list/
<<<<<<< Updated upstream
=======
DEBUG 2024-08-21 09:21:42,390 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,441 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,472 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:21:42,542 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,575 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:21:42,590 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,632 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,675 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,723 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,768 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:21:42,788 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,813 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:21:42,832 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,857 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,886 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:21:42,905 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,928 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,956 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:21:42,973 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,998 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,063 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,108 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,136 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,259 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,276 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,292 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,308 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,327 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,386 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,458 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,494 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:21:43,575 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:21:43,636 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,667 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,698 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,724 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,752 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,784 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,813 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,840 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,874 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,906 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,942 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,982 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:44,024 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:21:44,064 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:21:44,142 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:21:44,232 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:21:44,300 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,401 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,564 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:21:44,721 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,800 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,877 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:45,061 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:45,120 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:45,146 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:21:49,408 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:21:49,936 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:21:50,169 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 09:22:00,056 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,083 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,107 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:22:00,182 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,238 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:22:00,259 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,328 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,353 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,416 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,481 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:22:00,512 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,543 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:22:00,565 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,599 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,638 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:22:00,660 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,692 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,729 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:22:00,754 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,782 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,863 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,925 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,962 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,110 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,133 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,161 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,187 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,212 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,279 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,384 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,437 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:22:01,577 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:22:01,660 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,693 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,728 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,761 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,797 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,834 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,865 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,897 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,932 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,966 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:02,005 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:22:02,050 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:02,085 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:22:02,124 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:22:02,209 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:22:02,362 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:22:02,458 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:02,545 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:02,660 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:22:02,830 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:02,909 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:03,054 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:03,252 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:03,329 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:03,375 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:22:05,976 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:22:06,379 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:22:06,887 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 09:26:16,602 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,621 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,641 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:26:16,694 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,726 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:26:16,742 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,788 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,808 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,851 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,897 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:26:16,916 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:26:16,942 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:26:16,958 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:26:16,982 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,010 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:26:17,029 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,056 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,084 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:26:17,104 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,130 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,193 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,235 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,261 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,382 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,403 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,423 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,445 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,466 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,514 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,584 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,631 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:26:17,731 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:26:17,790 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,818 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:17,844 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,872 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:17,900 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:17,929 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,955 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,982 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:18,011 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,042 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:18,076 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,107 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:18,134 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,162 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,221 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:26:18,300 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:26:18,357 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,417 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,509 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:26:18,623 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,684 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,752 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,879 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,934 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:18,966 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:26:20,681 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:26:20,983 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:26:21,281 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 09:30:22,210 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,228 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,247 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:30:22,297 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,332 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:30:22,350 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,409 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,430 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,477 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,522 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:30:22,540 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,566 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:30:22,584 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,614 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,642 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:30:22,659 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,691 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,718 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:30:22,740 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,766 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,830 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,884 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,913 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,043 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,064 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,085 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,101 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,121 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,170 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,238 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,274 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:30:23,473 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:30:23,677 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,752 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,785 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,812 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,849 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,881 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,907 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,941 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,969 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,001 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:24,033 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,067 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:24,096 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,124 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,195 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:30:24,273 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:30:24,333 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,412 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,519 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:30:24,657 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,720 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,796 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,958 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:25,032 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:25,069 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:30:26,917 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:30:27,232 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:30:27,501 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 09:46:09,211 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,230 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,248 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:46:09,295 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,330 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:46:09,348 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,398 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,421 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,481 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,558 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:46:09,587 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,615 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:46:09,634 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,659 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,697 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:46:09,716 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,754 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,781 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:46:09,797 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,820 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,878 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:46:09,923 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:46:09,950 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,078 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:10,097 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:10,117 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:10,142 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:10,159 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:10,202 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:10,258 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:46:10,293 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:46:10,382 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:46:10,439 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,470 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:46:10,500 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,528 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:46:10,558 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:46:10,586 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,614 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,640 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:46:10,668 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,695 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:46:10,724 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,757 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:46:10,782 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,813 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:46:10,879 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:46:10,961 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:46:11,032 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:46:11,098 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:46:11,190 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:46:11,318 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:46:11,381 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:46:11,456 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:46:11,581 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:46:11,639 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:46:11,667 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 09:46:12,994 log Internal Server Error: /api/doctors/delete/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 566, in post
    return self.deleteDoctor(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 598, in deleteDoctor
    Doctors.objects.get(identity_num=id).delete()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\query.py", line 637, in get
    raise self.model.DoesNotExist(
app01.models.Doctors.DoesNotExist: Doctors matching query does not exist.
DEBUG 2024-08-21 09:49:32,566 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:32,585 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:32,605 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:49:32,652 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:32,682 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:49:32,701 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:49:32,746 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:32,764 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:49:32,807 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:49:32,849 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:49:32,870 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:49:32,892 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:49:32,911 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:49:32,936 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:49:32,962 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:49:32,981 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,004 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,030 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:49:33,047 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,072 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,126 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,168 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,197 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,314 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,333 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,351 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,373 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,391 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,434 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,510 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:49:33,544 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:49:33,626 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:49:33,678 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,703 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:49:33,729 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,753 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:49:33,779 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:49:33,809 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,832 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,857 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:49:33,883 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,913 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:49:33,944 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:49:33,974 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:49:33,998 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:49:34,025 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:49:34,080 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:49:34,143 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:49:34,194 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:49:34,247 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:49:34,329 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:49:34,445 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:49:34,504 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:49:34,560 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:49:34,676 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:49:34,732 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:49:34,757 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 09:49:35,977 log Internal Server Error: /api/doctors/delete/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 566, in post
    return self.deleteDoctor(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 598, in deleteDoctor
    Doctors.objects.get(identity_num=id).delete()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\query.py", line 637, in get
    raise self.model.DoesNotExist(
app01.models.Doctors.DoesNotExist: Doctors matching query does not exist.
DEBUG 2024-08-21 09:51:19,023 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,045 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,072 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:51:19,136 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,170 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:51:19,192 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,245 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,268 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,318 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,380 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:51:19,406 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,446 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:51:19,474 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,505 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,534 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:51:19,557 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,582 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,610 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:51:19,632 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,665 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,747 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:51:19,812 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:51:19,846 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,002 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:20,025 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:20,046 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:20,068 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:20,086 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:20,158 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:20,232 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:51:20,275 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:51:20,396 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:51:20,467 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,500 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:51:20,537 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,567 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:51:20,608 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:51:20,639 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,668 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,700 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:51:20,732 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,770 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:51:20,810 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,845 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:51:20,876 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,912 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:51:20,987 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:51:21,080 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:51:21,150 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:51:21,266 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:51:21,401 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:51:21,591 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:51:21,681 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:51:21,779 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:51:21,956 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:51:22,029 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:51:22,069 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 09:51:23,618 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
ERROR 2024-08-21 09:51:23,711 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
ERROR 2024-08-21 09:51:23,840 log Internal Server Error: /api/doctors/delete/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 566, in post
    return self.deleteDoctor(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 598, in deleteDoctor
    Doctors.objects.get(identity_num=id).delete()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\query.py", line 637, in get
    raise self.model.DoesNotExist(
app01.models.Doctors.DoesNotExist: Doctors matching query does not exist.
DEBUG 2024-08-21 09:52:47,439 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:47,455 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:47,474 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:52:47,518 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:47,547 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:52:47,561 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:52:47,602 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:47,618 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:52:47,655 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:52:47,695 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:52:47,714 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:52:47,739 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:52:47,757 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:52:47,782 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:52:47,809 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:52:47,827 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:52:47,851 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:52:47,878 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:52:47,896 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:52:47,919 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:52:47,974 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,017 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,045 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,166 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,184 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,200 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,217 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,233 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,281 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,341 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:52:48,375 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:52:48,464 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:52:48,519 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,544 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:52:48,574 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,601 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:52:48,628 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:52:48,655 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,683 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,710 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:52:48,736 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,765 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:52:48,796 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,826 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:52:48,850 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,879 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:52:48,945 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:52:49,031 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:52:49,085 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:52:49,142 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:52:49,230 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:52:49,341 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:52:49,404 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:52:49,483 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:52:49,632 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:52:49,689 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:52:49,720 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 09:52:50,869 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
ERROR 2024-08-21 09:52:50,923 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
WARNING 2024-08-21 09:52:50,988 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 09:53:40,585 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:40,601 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:40,620 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:53:40,668 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:40,700 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:53:40,717 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:53:40,762 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:40,782 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:53:40,822 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:53:40,862 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:53:40,882 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:53:40,910 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:53:40,926 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:53:40,953 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:53:40,983 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:53:41,001 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,028 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,057 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:53:41,074 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,103 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,159 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,200 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,230 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,341 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,361 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,377 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,395 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,416 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,459 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,511 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:53:41,542 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:53:41,621 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:53:41,672 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,704 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:53:41,733 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,762 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:53:41,807 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:53:41,842 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,868 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,897 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:53:41,926 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:53:41,957 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:53:41,989 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:53:42,021 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:53:42,050 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:53:42,077 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:53:42,135 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:53:42,204 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:53:42,256 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:53:42,313 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:53:42,401 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:53:42,519 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:53:42,586 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:53:42,658 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:53:42,788 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:53:42,846 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:53:42,874 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 09:53:43,883 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
ERROR 2024-08-21 09:53:43,932 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
WARNING 2024-08-21 09:53:43,987 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 09:57:22,794 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:22,822 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:22,847 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:57:22,907 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:22,937 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:57:22,951 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:57:22,995 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,010 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,049 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,090 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:57:23,109 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,134 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:57:23,151 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,176 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,204 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:57:23,224 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,248 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,276 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:57:23,294 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,318 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,372 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,416 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,450 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:57:23,569 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,585 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,603 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,627 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,654 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,715 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,785 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:57:23,828 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:57:23,949 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:57:24,040 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,075 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:57:24,110 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,147 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:57:24,181 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:57:24,212 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,243 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,274 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:57:24,310 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,345 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:57:24,388 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,420 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:57:24,451 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,484 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:57:24,539 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:57:24,610 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:57:24,665 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:57:24,727 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:57:24,813 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:57:24,931 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:57:24,990 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:57:25,050 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:57:25,167 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:57:25,221 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:57:25,250 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 09:57:29,778 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
ERROR 2024-08-21 09:57:29,835 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
WARNING 2024-08-21 09:57:29,911 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 09:58:13,320 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,336 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,355 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:58:13,405 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,438 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:58:13,453 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,496 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,513 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,553 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,599 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:58:13,617 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,640 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:58:13,656 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,681 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,706 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:58:13,723 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,747 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,771 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:58:13,790 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,827 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,885 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:58:13,928 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:58:13,955 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,066 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:14,086 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:14,106 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:14,123 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:14,140 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:14,186 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:14,248 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:58:14,279 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:58:14,358 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:58:14,409 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,439 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:58:14,469 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,493 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:58:14,529 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:58:14,557 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,584 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,621 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:58:14,648 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,675 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:58:14,702 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,733 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:58:14,758 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,784 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:58:14,841 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:58:14,913 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:58:14,962 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:58:15,018 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:58:15,108 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:58:15,221 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:58:15,281 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:58:15,340 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:58:15,471 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:58:15,528 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:58:15,557 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 09:58:16,663 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
ERROR 2024-08-21 09:58:16,715 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
WARNING 2024-08-21 09:58:16,775 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 10:00:44,652 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:44,669 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:44,687 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:00:44,729 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:44,757 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:00:44,772 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:00:44,815 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:44,834 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:00:44,872 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:00:44,911 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:00:44,930 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:00:44,954 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:00:44,969 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:00:44,995 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,024 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:00:45,041 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,066 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,091 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:00:45,110 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,134 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,197 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,251 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,278 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,389 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,409 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,429 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,447 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,464 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,511 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,571 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:00:45,619 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:00:45,703 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:00:45,758 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,786 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:00:45,813 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,838 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:00:45,866 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:00:45,894 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,918 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,943 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:00:45,971 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:00:45,998 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:00:46,029 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:00:46,061 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:00:46,088 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:00:46,119 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:00:46,178 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:00:46,253 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:00:46,311 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:00:46,370 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:00:46,454 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:00:46,590 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:00:46,647 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:00:46,710 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:00:46,841 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:00:46,902 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:00:46,933 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 10:00:48,146 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
ERROR 2024-08-21 10:00:48,199 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 560, in post
    action = json.loads(request.body)['action']
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
WARNING 2024-08-21 10:00:48,266 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 10:01:23,714 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:23,732 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:23,752 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:01:23,795 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:23,823 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:01:23,838 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:23,883 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:23,900 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:23,939 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:23,983 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:01:24,000 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,026 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:01:24,041 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,066 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,092 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:01:24,109 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,132 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,157 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:01:24,176 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,199 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,253 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,294 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,319 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,437 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,455 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,472 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,489 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,508 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,553 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,610 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:01:24,644 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:01:24,728 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:01:24,783 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,813 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:24,840 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,888 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:24,915 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:24,942 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,966 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:24,995 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:25,024 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:01:25,061 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:25,108 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:01:25,155 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:25,181 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:01:25,211 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:01:25,269 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:01:25,342 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:01:25,405 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:25,474 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:25,574 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:01:25,693 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:25,758 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:25,825 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:25,970 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:26,059 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:26,103 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-21 10:01:27,268 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 570, in post
    return self.addDoctor(request)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 614, in addDoctor
    doctor = Doctors.objects.filter(identity_num=data['id']).first()
                                                 ~~~~^^^^^^
KeyError: 'id'
ERROR 2024-08-21 10:01:27,321 log Internal Server Error: /api/doctors/setData/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 570, in post
    return self.addDoctor(request)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 614, in addDoctor
    doctor = Doctors.objects.filter(identity_num=data['id']).first()
                                                 ~~~~^^^^^^
KeyError: 'id'
WARNING 2024-08-21 10:01:27,388 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 10:01:45,989 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,006 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,026 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:01:46,077 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,109 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:01:46,128 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,177 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,195 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,243 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,289 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:01:46,307 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,330 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:01:46,347 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,375 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,405 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:01:46,423 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,454 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,483 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:01:46,502 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,527 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,586 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,628 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,656 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:01:46,778 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,801 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,820 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,842 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,860 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,912 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:46,979 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:01:47,015 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:01:47,118 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:01:47,181 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,207 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:47,235 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,263 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:47,294 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:47,324 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,352 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,383 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:47,414 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,451 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:47,486 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,520 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:01:47,550 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,575 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:01:47,640 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:01:47,718 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:01:47,785 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:47,852 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:47,951 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:01:48,083 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:48,149 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:48,207 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:48,340 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:01:48,404 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:01:48,440 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 10:01:49,632 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:01:49,701 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:01:49,774 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 10:02:48,111 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,128 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,145 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:02:48,183 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,209 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:02:48,224 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,265 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,281 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,318 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,357 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:02:48,379 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,401 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:02:48,418 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,452 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,474 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:02:48,487 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,511 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,539 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:02:48,555 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,578 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,632 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,676 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,705 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:02:48,826 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,845 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,861 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,876 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,894 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,937 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:48,992 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:02:49,024 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:02:49,105 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:02:49,164 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,193 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:02:49,218 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,243 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:02:49,270 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:02:49,308 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,332 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,356 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:02:49,384 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,415 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:02:49,449 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,479 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:02:49,505 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,533 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:02:49,591 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:02:49,667 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:02:49,723 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:02:49,782 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:02:49,870 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:02:49,986 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:02:50,042 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:02:50,101 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:02:50,218 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:02:50,275 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:02:50,307 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 10:02:51,410 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:02:51,637 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 10:03:40,212 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,231 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,249 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:03:40,315 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,347 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:03:40,363 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,411 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,429 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,472 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,519 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:03:40,540 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,565 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:03:40,584 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,610 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,635 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:03:40,660 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,685 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,714 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:03:40,733 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,758 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,815 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:03:40,857 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:03:40,888 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,010 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:41,029 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:41,046 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:41,064 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:41,080 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:41,126 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:41,184 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:03:41,219 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:03:41,304 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:03:41,366 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,393 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:03:41,428 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,458 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:03:41,486 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:03:41,517 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,547 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,577 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:03:41,602 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,631 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:03:41,662 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,696 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:03:41,723 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,750 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:03:41,812 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:03:41,882 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:03:41,942 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:03:41,998 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:03:42,094 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:03:42,213 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:03:42,273 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:03:42,331 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:03:42,459 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:03:42,520 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:03:42,552 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 10:03:43,767 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:03:44,001 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 10:04:02,943 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:02,967 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:02,993 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:04:03,067 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:03,117 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:04:03,139 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:03,207 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:03,232 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:03,298 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:03,360 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:04:03,390 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,421 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:04:03,460 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,490 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,525 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:04:03,556 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,588 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,622 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:04:03,649 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,679 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,755 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:03,820 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:04:03,853 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:04:04,037 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:04,059 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:04,085 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:04,111 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:04,134 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:04,204 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:04,293 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:04:04,339 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:04:04,477 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:04:04,567 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:04,602 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:04,640 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:04,672 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:04,708 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:04,750 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:04,790 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:04,823 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:04,860 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:04:04,897 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:04,943 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:04:04,981 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:05,016 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:04:05,047 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:04:05,115 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:04:05,217 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:04:05,290 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:05,363 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:05,488 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:04:05,653 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:05,727 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:05,814 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:06,003 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:06,077 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:06,121 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 10:04:07,699 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:04:07,925 log Bad Request: /api/doctors/delete/
DEBUG 2024-08-21 10:04:18,366 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,386 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,407 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:04:18,456 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,493 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:04:18,510 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,555 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,572 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,614 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,657 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:04:18,677 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:04:18,703 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:04:18,722 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:04:18,747 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:04:18,774 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:04:18,793 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:04:18,823 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:04:18,850 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:04:18,867 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:04:18,891 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:04:18,948 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:04:18,987 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,016 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,131 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:19,150 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:19,167 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:19,185 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:19,203 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:19,249 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:19,305 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:04:19,337 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:04:19,422 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:04:19,486 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,514 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:19,544 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,571 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:19,595 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:19,627 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,655 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,682 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:19,709 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,739 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:19,770 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,802 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:04:19,827 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,856 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:04:19,912 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:04:19,981 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:04:20,037 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:20,090 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:20,181 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:04:20,293 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:20,351 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:20,417 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:20,552 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:04:20,613 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:04:20,644 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 10:04:21,841 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:04:22,074 log Bad Request: /api/doctors/delete/
WARNING 2024-08-21 10:04:23,112 log Bad Request: /api/registers/list/
WARNING 2024-08-21 10:04:23,398 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 10:04:23,630 log Bad Request: /api/treatments/list/
>>>>>>> Stashed changes
