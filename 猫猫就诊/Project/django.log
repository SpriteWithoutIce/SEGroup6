DEBUG 2024-06-01 14:41:18,238 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:42:31,954 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:45:26,875 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:46:42,421 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:52:17,811 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` bigint AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-06-01 14:55:38,399 schema ALTER TABLE `app01_onduty` ADD COLUMN `id` integer AUTO_INCREMENT DEFAULT %s NOT NULL PRIMARY KEY; (params [1])
DEBUG 2024-08-20 20:26:35,858 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:35,877 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:35,896 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-20 20:26:35,938 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:35,967 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-20 20:26:35,993 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,052 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,072 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,121 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,169 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-20 20:26:36,188 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,213 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:26:36,232 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,253 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,279 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-20 20:26:36,296 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,321 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,347 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:26:36,366 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,391 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,449 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,492 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,520 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:26:36,641 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,660 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,678 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,694 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,714 schema CREATE TABLE `app01_onduty` (`doctor_id` bigint NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,736 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,801 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:36,858 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:26:36,943 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:26:37,007 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,032 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,059 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,087 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,116 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,141 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,168 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,193 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,221 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,256 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,286 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:26:37,312 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,339 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:26:37,396 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-20 20:26:37,467 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-20 20:26:37,521 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,575 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,665 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-20 20:26:37,779 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,841 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:37,901 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:38,021 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:26:38,080 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:26:38,109 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
ERROR 2024-08-20 20:26:39,618 log Internal Server Error: /api/appointment/add/
Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
             ^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 558, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 822, in _read_query_result
    result.read()
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 1200, in read
    first_packet = self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 772, in _read_packet
    packet.raise_for_error()
  File "D:\anacoda\Lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "D:\anacoda\Lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1054, "Unknown column 'registerMan_id' in 'field list'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\anacoda\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\decorators\csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "D:\anacoda\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 157, in post
    return self.addRegisterData(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\86185\Desktop\SEGroup6\Ã¨Ã¨¾ÍÕï\Project\app01\views.py", line 328, in addRegisterData
    notice.save()
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\models\sql\compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "D:\anacoda\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "D:\anacoda\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\django\db\backends\mysql\base.py", line 75, in execute
    return self.cursor.execute(query, args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 153, in execute
    result = self._query(query)
             ^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\cursors.py", line 322, in _query
    conn.query(q)
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 558, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 822, in _read_query_result
    result.read()
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 1200, in read
    first_packet = self.connection._read_packet()
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anacoda\Lib\site-packages\pymysql\connections.py", line 772, in _read_packet
    packet.raise_for_error()
  File "D:\anacoda\Lib\site-packages\pymysql\protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "D:\anacoda\Lib\site-packages\pymysql\err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.OperationalError: (1054, "Unknown column 'registerMan_id' in 'field list'")
WARNING 2024-08-20 20:26:39,696 log Bad Request: /api/registers/list/
DEBUG 2024-08-20 20:27:57,030 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,046 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,064 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-20 20:27:57,111 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,139 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-20 20:27:57,154 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,199 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,215 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,272 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,311 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-20 20:27:57,331 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,355 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:27:57,373 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,396 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,420 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-20 20:27:57,444 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,466 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,489 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-20 20:27:57,507 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,531 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,586 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,624 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,652 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-20 20:27:57,790 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,810 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,825 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,841 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,858 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,900 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,958 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-20 20:27:57,989 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:27:58,069 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-20 20:27:58,124 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,148 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,174 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,196 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,222 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,251 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,275 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,299 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,324 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,352 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,381 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,411 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-20 20:27:58,434 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,459 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-20 20:27:58,516 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-20 20:27:58,578 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-20 20:27:58,639 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:58,695 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:58,802 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-20 20:27:58,912 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:58,969 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:59,028 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:59,152 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-20 20:27:59,204 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-20 20:27:59,234 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-20 20:28:00,829 log Bad Request: /api/registers/list/
DEBUG 2024-08-21 09:21:42,390 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,441 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,472 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:21:42,542 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,575 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:21:42,590 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,632 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,675 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,723 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:42,768 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:21:42,788 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,813 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:21:42,832 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,857 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,886 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:21:42,905 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,928 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,956 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:21:42,973 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:21:42,998 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,063 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,108 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,136 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,259 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,276 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,292 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,308 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,327 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,386 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,458 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:21:43,494 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:21:43,575 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:21:43,636 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,667 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,698 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,724 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,752 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,784 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,813 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,840 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,874 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,906 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:43,942 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:21:43,982 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:21:44,024 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:21:44,064 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:21:44,142 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:21:44,232 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:21:44,300 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,401 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,564 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:21:44,721 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,800 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:44,877 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:45,061 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:21:45,120 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:21:45,146 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:21:49,408 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:21:49,936 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:21:50,169 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 09:22:00,056 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,083 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,107 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:22:00,182 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,238 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:22:00,259 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,328 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,353 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,416 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,481 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:22:00,512 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,543 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:22:00,565 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,599 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,638 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:22:00,660 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,692 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,729 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:22:00,754 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,782 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,863 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:22:00,925 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:22:00,962 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,110 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,133 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,161 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,187 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,212 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,279 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,384 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:22:01,437 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:22:01,577 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:22:01,660 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,693 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,728 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,761 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,797 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,834 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,865 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,897 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:01,932 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:22:01,966 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:02,005 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:22:02,050 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:22:02,085 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:22:02,124 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:22:02,209 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:22:02,362 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:22:02,458 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:02,545 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:02,660 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:22:02,830 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:02,909 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:03,054 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:03,252 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:22:03,329 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:22:03,375 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:22:05,976 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:22:06,379 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:22:06,887 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 09:26:16,602 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,621 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,641 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:26:16,694 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,726 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:26:16,742 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,788 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,808 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,851 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:16,897 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:26:16,916 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:26:16,942 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:26:16,958 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:26:16,982 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,010 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:26:17,029 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,056 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,084 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:26:17,104 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,130 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,193 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,235 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,261 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,382 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,403 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,423 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,445 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,466 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,514 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,584 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:26:17,631 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:26:17,731 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:26:17,790 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,818 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:17,844 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,872 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:17,900 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:17,929 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,955 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:26:17,982 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:18,011 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,042 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:18,076 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,107 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:26:18,134 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,162 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:26:18,221 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:26:18,300 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:26:18,357 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,417 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,509 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:26:18,623 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,684 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,752 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,879 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:26:18,934 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:26:18,966 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:26:20,681 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:26:20,983 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:26:21,281 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 09:30:22,210 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,228 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,247 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 09:30:22,297 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,332 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 09:30:22,350 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,409 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,430 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,477 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,522 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 09:30:22,540 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,566 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:30:22,584 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,614 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,642 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 09:30:22,659 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,691 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,718 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 09:30:22,740 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,766 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,830 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 09:30:22,884 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 09:30:22,913 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,043 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,064 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,085 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,101 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,121 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,170 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,238 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 09:30:23,274 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:30:23,473 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 09:30:23,677 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,752 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,785 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,812 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,849 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,881 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,907 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 09:30:23,941 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:23,969 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,001 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:24,033 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,067 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 09:30:24,096 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,124 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 09:30:24,195 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 09:30:24,273 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 09:30:24,333 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,412 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,519 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 09:30:24,657 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,720 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,796 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:24,958 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 09:30:25,032 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 09:30:25,069 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 09:30:26,917 log Bad Request: /api/registers/list/
WARNING 2024-08-21 09:30:27,232 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 09:30:27,501 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 10:07:04,846 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:04,870 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:04,895 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:07:04,975 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,020 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:07:05,044 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,112 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,131 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,170 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,213 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:07:05,230 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,254 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:07:05,273 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,298 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,325 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:07:05,341 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,369 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,396 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:07:05,413 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,443 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,502 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,549 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,581 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:07:05,700 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,717 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,734 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,750 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,767 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,811 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,869 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:07:05,900 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:07:05,984 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:07:06,036 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,061 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:07:06,090 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,116 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:07:06,142 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:07:06,169 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,196 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,220 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:07:06,246 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,279 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:07:06,316 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,356 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:07:06,395 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,432 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:07:06,523 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:07:06,628 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:07:06,703 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:07:06,796 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:07:06,915 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:07:07,090 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:07:07,165 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:07:07,258 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:07:07,438 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:07:07,513 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:07:07,569 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 10:07:09,422 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:07:09,828 log Bad Request: /api/doctors/delete/
WARNING 2024-08-21 10:07:11,538 log Bad Request: /api/registers/list/
WARNING 2024-08-21 10:07:11,969 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 10:07:12,469 log Bad Request: /api/treatments/list/
DEBUG 2024-08-21 10:08:46,268 schema CREATE TABLE `django_migrations` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `app` varchar(255) NOT NULL, `name` varchar(255) NOT NULL, `applied` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,285 schema CREATE TABLE `django_content_type` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(100) NOT NULL, `app_label` varchar(100) NOT NULL, `model` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,304 schema ALTER TABLE `django_content_type` ADD CONSTRAINT `django_content_type_app_label_model_76bd3d3b_uniq` UNIQUE (`app_label`, `model`); (params ())
DEBUG 2024-08-21 10:08:46,348 schema CREATE TABLE `auth_permission` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `content_type_id` integer NOT NULL, `codename` varchar(100) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,380 schema CREATE TABLE `auth_group` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(80) NOT NULL UNIQUE); (params None)
DEBUG 2024-08-21 10:08:46,400 schema CREATE TABLE `auth_group_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `group_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,446 schema CREATE TABLE `auth_user` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `password` varchar(128) NOT NULL, `last_login` datetime(6) NOT NULL, `is_superuser` bool NOT NULL, `username` varchar(30) NOT NULL UNIQUE, `first_name` varchar(30) NOT NULL, `last_name` varchar(30) NOT NULL, `email` varchar(75) NOT NULL, `is_staff` bool NOT NULL, `is_active` bool NOT NULL, `date_joined` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,461 schema CREATE TABLE `auth_user_groups` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `group_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,505 schema CREATE TABLE `auth_user_user_permissions` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `user_id` integer NOT NULL, `permission_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,549 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_codename_01ab375a_uniq` UNIQUE (`content_type_id`, `codename`); (params ())
DEBUG 2024-08-21 10:08:46,567 schema ALTER TABLE `auth_permission` ADD CONSTRAINT `auth_permission_content_type_id_2f476e4b_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,592 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_permission_id_0cd325b0_uniq` UNIQUE (`group_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:08:46,610 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissions_group_id_b120cbf9_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,637 schema ALTER TABLE `auth_group_permissions` ADD CONSTRAINT `auth_group_permissio_permission_id_84c5c92e_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,662 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_group_id_94350c0c_uniq` UNIQUE (`user_id`, `group_id`); (params ())
DEBUG 2024-08-21 10:08:46,680 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_user_id_6a12ed8b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,704 schema ALTER TABLE `auth_user_groups` ADD CONSTRAINT `auth_user_groups_group_id_97559544_fk_auth_group_id` FOREIGN KEY (`group_id`) REFERENCES `auth_group` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,730 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_permission_id_14a6b632_uniq` UNIQUE (`user_id`, `permission_id`); (params ())
DEBUG 2024-08-21 10:08:46,748 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,771 schema ALTER TABLE `auth_user_user_permissions` ADD CONSTRAINT `auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm` FOREIGN KEY (`permission_id`) REFERENCES `auth_permission` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,827 schema CREATE TABLE `django_admin_log` (`id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY, `action_time` datetime(6) NOT NULL, `object_id` longtext NULL, `object_repr` varchar(200) NOT NULL, `action_flag` smallint UNSIGNED NOT NULL CHECK (`action_flag` >= 0), `change_message` longtext NOT NULL, `content_type_id` integer NULL, `user_id` integer NOT NULL); (params None)
DEBUG 2024-08-21 10:08:46,874 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_content_type_id_c4bce8eb_fk_django_co` FOREIGN KEY (`content_type_id`) REFERENCES `django_content_type` (`id`); (params ())
DEBUG 2024-08-21 10:08:46,907 schema ALTER TABLE `django_admin_log` ADD CONSTRAINT `django_admin_log_user_id_c564eba6_fk_auth_user_id` FOREIGN KEY (`user_id`) REFERENCES `auth_user` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,018 schema CREATE TABLE `app01_doctors` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `identity_num` varchar(64) NOT NULL, `name` varchar(20) NOT NULL, `title` varchar(50) NOT NULL, `department` varchar(20) NOT NULL, `research` varchar(150) NULL, `cost` numeric(5, 2) NOT NULL, `avatar` varchar(100) NULL, `avatar_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:47,038 schema CREATE TABLE `app01_medicine` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `name` varchar(50) NOT NULL, `medicine_type` smallint NOT NULL, `symptom` varchar(200) NOT NULL, `price` numeric(5, 2) NOT NULL, `quantity` integer NOT NULL, `photo_name` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:47,055 schema CREATE TABLE `app01_patients` (`identity` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `name` varchar(20) NOT NULL, `health_insurance` smallint NOT NULL, `gender` smallint NOT NULL, `birthday` date NOT NULL, `phone_num` varchar(15) NOT NULL, `address` varchar(128) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:47,074 schema CREATE TABLE `app01_user` (`type` smallint NOT NULL, `identity_num` varchar(64) NOT NULL PRIMARY KEY, `password` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:47,092 schema CREATE TABLE `app01_treatment` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `advice` varchar(256) NOT NULL, `medicine` longtext NOT NULL, `price` numeric(5, 2) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:47,140 schema CREATE TABLE `app01_register` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `queue_id` integer NOT NULL, `time` datetime(6) NOT NULL, `position` varchar(128) NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` varchar(64) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:47,195 schema CREATE TABLE `app01_onduty` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `date` date NOT NULL, `time` smallint NOT NULL, `state` integer NOT NULL, `doctor_id` bigint NOT NULL); (params None)
DEBUG 2024-08-21 10:08:47,227 schema CREATE TABLE `app01_notice` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `msg_type` smallint NOT NULL, `time` datetime(6) NOT NULL, `isRead` bool NOT NULL, `doctor_id` bigint NOT NULL, `patient_id` varchar(64) NOT NULL, `register_id` bigint NULL, `registerMan_id` varchar(64) NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:08:47,327 schema CREATE TABLE `app01_bill` (`id` bigint AUTO_INCREMENT NOT NULL PRIMARY KEY, `type` smallint NOT NULL, `state` bool NOT NULL, `price` numeric(5, 2) NOT NULL, `patient_id` varchar(64) NULL, `register_id` bigint NULL, `treatment_id` bigint NULL); (params None)
DEBUG 2024-08-21 10:08:47,385 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_doctor_id_a47beada_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,412 schema ALTER TABLE `app01_treatment` ADD CONSTRAINT `app01_treatment_patient_id_52a8e1e5_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:08:47,453 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_doctor_id_e0ea61dc_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,478 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_patient_id_4a065a29_fk_app01_pat` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:08:47,504 schema ALTER TABLE `app01_register` ADD CONSTRAINT `app01_register_register_id_e85a8e5b_fk_app01_pat` FOREIGN KEY (`register_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:08:47,532 schema ALTER TABLE `app01_onduty` ADD CONSTRAINT `app01_onduty_doctor_id_9b012eb7_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,557 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_doctor_id_2d7f7104_fk_app01_doctors_id` FOREIGN KEY (`doctor_id`) REFERENCES `app01_doctors` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,582 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_patient_id_74974826_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:08:47,609 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_register_id_6c54784c_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,637 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_registerMan_id_1bd9adce_fk_app01_pat` FOREIGN KEY (`registerMan_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:08:47,665 schema ALTER TABLE `app01_notice` ADD CONSTRAINT `app01_notice_treatment_id_596ea92a_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,695 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_patient_id_96fe396a_fk_app01_patients_identity_num` FOREIGN KEY (`patient_id`) REFERENCES `app01_patients` (`identity_num`); (params ())
DEBUG 2024-08-21 10:08:47,718 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_register_id_cf59300e_fk_app01_register_id` FOREIGN KEY (`register_id`) REFERENCES `app01_register` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,743 schema ALTER TABLE `app01_bill` ADD CONSTRAINT `app01_bill_treatment_id_73ef4d98_fk_app01_treatment_id` FOREIGN KEY (`treatment_id`) REFERENCES `app01_treatment` (`id`); (params ())
DEBUG 2024-08-21 10:08:47,797 schema ALTER TABLE `django_content_type` MODIFY `name` varchar(100) NULL; (params [])
DEBUG 2024-08-21 10:08:47,862 schema ALTER TABLE `django_content_type` DROP COLUMN `name`; (params ())
DEBUG 2024-08-21 10:08:47,915 schema ALTER TABLE `auth_permission` MODIFY `name` varchar(255) NOT NULL; (params [])
DEBUG 2024-08-21 10:08:47,970 schema ALTER TABLE `auth_user` MODIFY `email` varchar(254) NOT NULL; (params [])
DEBUG 2024-08-21 10:08:48,052 schema ALTER TABLE `auth_user` MODIFY `last_login` datetime(6) NULL; (params [])
DEBUG 2024-08-21 10:08:48,168 schema ALTER TABLE `auth_user` MODIFY `username` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:08:48,236 schema ALTER TABLE `auth_user` MODIFY `last_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:08:48,294 schema ALTER TABLE `auth_group` MODIFY `name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:08:48,419 schema ALTER TABLE `auth_user` MODIFY `first_name` varchar(150) NOT NULL; (params [])
DEBUG 2024-08-21 10:08:48,481 schema CREATE TABLE `django_session` (`session_key` varchar(40) NOT NULL PRIMARY KEY, `session_data` longtext NOT NULL, `expire_date` datetime(6) NOT NULL); (params None)
DEBUG 2024-08-21 10:08:48,510 schema CREATE INDEX `django_session_expire_date_a5c62663` ON `django_session` (`expire_date`); (params ())
WARNING 2024-08-21 10:08:49,827 log Bad Request: /api/doctors/setData/
WARNING 2024-08-21 10:08:50,090 log Bad Request: /api/doctors/delete/
WARNING 2024-08-21 10:08:51,245 log Bad Request: /api/registers/list/
WARNING 2024-08-21 10:08:51,571 log Bad Request: /api/treatments/list/
WARNING 2024-08-21 10:08:51,842 log Bad Request: /api/treatments/list/
