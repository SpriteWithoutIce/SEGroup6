{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"modal\"\n};\nconst _hoisted_2 = {\n  class: \"modal-content\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Prescription Details\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"patientName\"\n}, \"姓名:\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"consultationDate\"\n}, \"问诊日期:\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"patientGender\"\n}, \"性别:\", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"male\"\n}, \"男\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"female\"\n}, \"女\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"female\"\n}, \"塑料袋\", -1 /* HOISTED */);\nconst _hoisted_13 = [_hoisted_10, _hoisted_11, _hoisted_12];\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"patientAge\"\n}, \"年龄:\", -1 /* HOISTED */);\nconst _hoisted_16 = {\n  class: \"form-group\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"medication\"\n}, \"Medication/Quantity:\", -1 /* HOISTED */);\nconst _hoisted_18 = [\"onUpdate:modelValue\", \"onInput\"];\nconst _hoisted_19 = {\n  id: \"medicineList\"\n};\nconst _hoisted_20 = [\"value\"];\nconst _hoisted_21 = [\"onUpdate:modelValue\"];\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Submit\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $data.isVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"patientName\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.patientName = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.patientName]])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"consultationDate\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.consultationDate = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.consultationDate]])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"select\", {\n    id: \"patientGender\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.patientGender = $event),\n    required: \"\"\n  }, [..._hoisted_13], 512 /* NEED_PATCH */), [[_vModelSelect, $data.patientGender]])]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    id: \"patientAge\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.patientAge = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.patientAge]])]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.medicines, (medicine, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"medicine-row\"\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => medicine.name = $event,\n      onInput: $event => $options.searchMedicine(index),\n      list: \"medicineList\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_18), [[_vModelText, medicine.name]]), _createElementVNode(\"datalist\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.medicineDatabase, item => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: item.name,\n        value: item.name\n      }, _toDisplayString(item.name), 9 /* TEXT, PROPS */, _hoisted_20);\n    }), 128 /* KEYED_FRAGMENT */))]), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => medicine.quantity = $event,\n      placeholder: \"Quantity\"\n    }, null, 8 /* PROPS */, _hoisted_21), [[_vModelText, medicine.quantity]]), index !== $data.medicines.length - 1 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      type: \"button\",\n      onClick: $event => $options.removeMedicine(index)\n    }, \"-\", 8 /* PROPS */, _hoisted_22)) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.addMedicine && $options.addMedicine(...args))\n  }, \"Add Medicine\")]), _hoisted_23, _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.closeModal && $options.closeModal(...args))\n  }, \"Close\")], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["key","class","_createElementVNode","for","value","_hoisted_10","_hoisted_11","_hoisted_12","id","type","$data","isVisible","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","submitForm","_hoisted_4","_hoisted_5","$event","patientName","required","_hoisted_6","_hoisted_7","consultationDate","_hoisted_8","_hoisted_9","patientGender","_hoisted_13","_hoisted_14","_hoisted_15","patientAge","_hoisted_16","_hoisted_17","_Fragment","_renderList","medicines","medicine","index","name","onInput","searchMedicine","list","_hoisted_18","_hoisted_19","medicineDatabase","item","_hoisted_20","quantity","placeholder","_hoisted_21","length","onClick","removeMedicine","_hoisted_22","_createCommentVNode","addMedicine","_hoisted_23","closeModal"],"sources":["E:\\2024年春\\SoftwareEngineering\\se_group6_project\\zqs_project_1\\src\\components\\PrescriptionDetails.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"isVisible\" class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      <h2>Prescription Details</h2>\r\n      <form @submit.prevent=\"submitForm\">\r\n        <div class=\"form-group\">\r\n          <label for=\"patientName\">姓名:</label>\r\n          <input type=\"text\" id=\"patientName\" v-model=\"patientName\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"consultationDate\">问诊日期:</label>\r\n          <input type=\"date\" id=\"consultationDate\" v-model=\"consultationDate\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"patientGender\">性别:</label>\r\n          <select id=\"patientGender\" v-model=\"patientGender\" required>\r\n            <option value=\"male\">男</option>\r\n            <option value=\"female\">女</option>\r\n            <option value=\"female\">塑料袋</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"patientAge\">年龄:</label>\r\n          <input type=\"number\" id=\"patientAge\" v-model=\"patientAge\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"medication\">Medication/Quantity:</label>\r\n          <div v-for=\"(medicine, index) in medicines\" :key=\"index\" class=\"medicine-row\">\r\n            <input type=\"text\" v-model=\"medicine.name\" @input=\"searchMedicine(index)\" list=\"medicineList\">\r\n            <datalist id=\"medicineList\">\r\n              <option v-for=\"item in medicineDatabase\" :key=\"item.name\" :value=\"item.name\">{{ item.name }}</option>\r\n            </datalist>\r\n            <input type=\"text\" v-model=\"medicine.quantity\" placeholder=\"Quantity\">\r\n            <button type=\"button\" @click=\"removeMedicine(index)\" v-if=\"index !== medicines.length - 1\">-</button>\r\n          </div>\r\n          <button type=\"button\" @click=\"addMedicine\">Add Medicine</button>\r\n        </div>\r\n        <button type=\"submit\">Submit</button>\r\n        <button @click=\"closeModal\">Close</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst medicineDatabase = [\r\n  { name: '伸腿瞪眼丸', quantity: '10 颗' },\r\n  { name: '唐森肉', quantity: '20 颗' },\r\n  { name: '馋嘴鱼乌冬面', quantity: '30 课' },\r\n  { name: '麦乐鸡', quantity: '15 颗' },\r\n  { name: '麦旋风', quantity: '10 颗' },\r\n  // 添加更多药物数据...\r\n];\r\n\r\nexport default {\r\n  name: 'PrescriptionDetails',\r\n  data () {\r\n    return {\r\n      isVisible: false,\r\n      patientName: '',\r\n      consultationDate: '',\r\n      patientGender: 'male',\r\n      patientAge: '',\r\n      medicines: [{ name: '', quantity: '' }],\r\n      medicineDatabase: medicineDatabase\r\n    };\r\n  },\r\n  methods: {\r\n    openModal () {\r\n      this.isVisible = true;\r\n    },\r\n    closeModal () {\r\n      this.isVisible = false;\r\n    },\r\n    addMedicine () {\r\n      this.medicines.push({ name: '', quantity: '' });\r\n    },\r\n    removeMedicine (index) {\r\n      this.medicines.splice(index, 1);\r\n    },\r\n    searchMedicine (index) {\r\n      const searchValue = this.medicines[index].name.toLowerCase();\r\n      const foundMedicine = this.medicineDatabase.find(medicine => medicine.name.toLowerCase() === searchValue);\r\n      if (foundMedicine) {\r\n        this.medicines[index].quantity = foundMedicine.quantity;\r\n      } else {\r\n        this.medicines[index].quantity = '';\r\n      }\r\n    },\r\n    submitForm () {\r\n      // Here you can handle form submission, such as sending data to server\r\n      console.log({\r\n        patientName: this.patientName,\r\n        consultationDate: this.consultationDate,\r\n        patientGender: this.patientGender,\r\n        patientAge: this.patientAge,\r\n        medicines: this.medicines\r\n      });\r\n      //提交后设置不可见\r\n      this.isVisible = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.modal-content {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\nbutton {\r\n  margin-top: 10px;\r\n}\r\n\r\ninput[list] {\r\n  width: calc(100% - 100px);\r\n}\r\n\r\n.medicine-row {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.medicine-row button {\r\n  margin-left: 10px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}